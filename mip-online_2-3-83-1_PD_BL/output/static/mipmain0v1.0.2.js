!function(t){function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(){for(var t=0;t<_.length;t++)_[t][0](_[t][1]);_=[],v=!1}function i(t,e){_.push([t,e]),v||(v=!0,E(n,0))}function r(t,e){function n(t){s(e,t)}function i(t){c(e,t)}try{t(n,i)}catch(r){i(r)}}function o(t){var e=t.owner,n=e.state_,i=e.data_,r=t[n],o=t.then;if("function"==typeof r){n=b;try{i=r(i)}catch(u){c(o,u)}}a(o,i)||(n===b&&s(o,i),n===w&&c(o,i))}function a(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var i=e.then;if("function"==typeof i)return i.call(e,function(i){n||(n=!0,e!==i?s(t,i):u(t,i))},function(e){n||(n=!0,c(t,e))}),!0}}catch(r){return n||c(t,r),!0}return!1}function s(t,e){t!==e&&a(t,e)||u(t,e)}function u(t,e){t.state_===g&&(t.state_=y,t.data_=e,i(f,t))}function c(t,e){t.state_===g&&(t.state_=y,t.data_=e,i(p,t))}function l(t){var e=t.then_;t.then_=void 0;for(var n=0;n<e.length;n++)o(e[n])}function f(t){t.state_=b,l(t)}function p(t){t.state_=w,l(t)}function d(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof d==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],r(t,this)}var h=t.Promise,m=h&&"resolve"in h&&"reject"in h&&"all"in h&&"race"in h&&function(){var t;return new h(function(e){t=e}),"function"==typeof t}();"undefined"!=typeof exports&&exports?(exports.Promise=m?h:d,exports.Polyfill=d):"function"==typeof define&&define.amd?define("polyfills/promise",["require"],function(){return m?h:d}):m||(t.Promise=d);var v,g="pending",y="sealed",b="fulfilled",w="rejected",x=function(){},E="undefined"!=typeof setImmediate?setImmediate:setTimeout,_=[];d.prototype={constructor:d,state_:g,then_:null,data_:void 0,then:function(t,e){var n={owner:this,then:new this.constructor(x),fulfilled:t,rejected:e};return this.state_===b||this.state_===w?i(o,n):this.then_.push(n),n.then},"catch":function(t){return this.then(null,t)}},d.all=function(t){var n=this;if(!e(t))throw new TypeError("You must pass an array to Promise.all().");return new n(function(e,n){function i(t){return a++,function(n){o[t]=n,--a||e(o)}}for(var r,o=[],a=0,s=0;s<t.length;s++)r=t[s],r&&"function"==typeof r.then?r.then(i(s),n):o[s]=r;a||e(o)})},d.race=function(t){var n=this;if(!e(t))throw new TypeError("You must pass an array to Promise.race().");return new n(function(e,n){for(var i,r=0;r<t.length;r++)i=t[r],i&&"function"==typeof i.then?i.then(e,n):e(i)})},d.resolve=function(t){var e=this;return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},d.reject=function(t){var e=this;return new e(function(e,n){n(t)})}}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this),!function(t,e,n,i){"use strict";function r(t,e){for(var n=0,i=t.length;i>n;n++)m(t[n],e)}function o(t){for(var e,n=0,i=t.length;i>n;n++)e=t[n],E(e,q[s(e)])}function a(t){return function(e){ne(e)&&(m(e,t),r(e.querySelectorAll(U),t))}}function s(t){var e=t.getAttribute("is"),n=t.nodeName.toUpperCase(),i=H.call(D,e?j+e.toUpperCase():N+n);return e&&i>-1&&!u(n,e)?-1:i}function u(t,e){return-1<U.indexOf(t+'[is="'+e+'"]')}function c(t){var e=t.currentTarget,n=t.attrChange,i=t.attrName,r=t.target;!he||r&&r!==e||!e.attributeChangedCallback||"style"===i||e.attributeChangedCallback(i,n===t[O]?null:t.prevValue,n===t[I]?null:t.newValue)}function l(t){var e=a(t);return function(t){v.push(e,t.target)}}function f(t){de&&(de=!1,t.currentTarget.removeEventListener(F,f)),r((t.target||e).querySelectorAll(U),t.detail===C?C:S),ee&&h()}function p(t,e){var n=this;oe.call(n,t,e),g.call(n,{target:n})}function d(t,e){G(t,e),w?w.observe(t,ue):(pe&&(t.setAttribute=p,t[_]=b(t),t.addEventListener(L,g)),t.addEventListener(k,c)),t.createdCallback&&he&&(t.created=!0,t.createdCallback(),t.created=!1)}function h(){for(var t,e=0,n=ie.length;n>e;e++)t=ie[e],$.contains(t)||(ie.splice(e,1),m(t,C))}function m(t,e){var n,i=s(t);i>-1&&(x(t,q[i]),i=0,e!==S||t[S]?e!==C||t[C]||(t[S]=!1,t[C]=!0,i=1):(t[C]=!1,t[S]=!0,i=1,ee&&H.call(ie,t)<0&&ie.push(t)),i&&(n=t[e+"Callback"])&&n.call(t))}if(!(i in e)){var v,g,y,b,w,x,E,_="__"+i+(1e5*Math.random()>>0),S="attached",C="detached",A="extends",O="ADDITION",T="MODIFICATION",I="REMOVAL",k="DOMAttrModified",F="DOMContentLoaded",L="DOMSubtreeModified",N="<",j="=",M=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,P=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],D=[],q=[],U="",$=e.documentElement,H=D.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},R=n.prototype,B=R.hasOwnProperty,V=R.isPrototypeOf,z=n.defineProperty,W=n.getOwnPropertyDescriptor,X=n.getOwnPropertyNames,J=n.getPrototypeOf,Z=n.setPrototypeOf,Y=!!n.__proto__,Q=n.create||function me(t){return t?(me.prototype=t,new me):this},G=Z||(Y?function(t,e){return t.__proto__=e,t}:X&&W?function(){function t(t,e){for(var n,i=X(e),r=0,o=i.length;o>r;r++)n=i[r],B.call(t,n)||z(t,n,W(e,n))}return function(e,n){do t(e,n);while((n=J(n))&&!V.call(n,e));return e}}():function(t,e){for(var n in e)t[n]=e[n];return t}),K=t.MutationObserver||t.WebKitMutationObserver,te=(t.HTMLElement||t.Element||t.Node).prototype,ee=!V.call(te,$),ne=ee?function(t){return 1===t.nodeType}:function(t){return V.call(te,t)},ie=ee&&[],re=te.cloneNode,oe=te.setAttribute,ae=te.removeAttribute,se=e.createElement,ue=K&&{attributes:!0,characterData:!0,attributeOldValue:!0},ce=K||function(){pe=!1,$.removeEventListener(k,ce)},le=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,10)},fe=!1,pe=!0,de=!0,he=!0;Z||Y?(x=function(t,e){V.call(e,t)||d(t,e)},E=d):(x=function(t,e){t[_]||(t[_]=n(!0),d(t,e))},E=x),ee?(pe=!1,function(){var t=W(te,"addEventListener"),e=t.value,n=function(t){var e=new CustomEvent(k,{bubbles:!0});e.attrName=t,e.prevValue=this.getAttribute(t),e.newValue=null,e[I]=e.attrChange=2,ae.call(this,t),this.dispatchEvent(e)},i=function(t,e){var n=this.hasAttribute(t),i=n&&this.getAttribute(t),r=new CustomEvent(k,{bubbles:!0});oe.call(this,t,e),r.attrName=t,r.prevValue=n?i:null,r.newValue=e,n?r[T]=r.attrChange=1:r[O]=r.attrChange=0,this.dispatchEvent(r)},r=function(t){var e,n=t.currentTarget,i=n[_],r=t.propertyName;i.hasOwnProperty(r)&&(i=i[r],e=new CustomEvent(k,{bubbles:!0}),e.attrName=i.name,e.prevValue=i.value||null,e.newValue=i.value=n[r]||null,null==e.prevValue?e[O]=e.attrChange=0:e[T]=e.attrChange=1,n.dispatchEvent(e))};t.value=function(t,o,a){t===k&&this.attributeChangedCallback&&this.setAttribute!==i&&(this[_]={className:{name:"class",value:this.className}},this.setAttribute=i,this.removeAttribute=n,e.call(this,"propertychange",r)),e.call(this,t,o,a)},z(te,"addEventListener",t)}()):K||($.addEventListener(k,ce),$.setAttribute(_,1),$.removeAttribute(_),pe&&(g=function(t){var e,n,i,r=this;if(r===t.target){e=r[_],r[_]=n=b(r);for(i in n){if(!(i in e))return y(0,r,i,e[i],n[i],O);if(n[i]!==e[i])return y(1,r,i,e[i],n[i],T)}for(i in e)if(!(i in n))return y(2,r,i,e[i],n[i],I)}},y=function(t,e,n,i,r,o){var a={attrChange:t,currentTarget:e,attrName:n,prevValue:i,newValue:r};a[o]=t,c(a)},b=function(t){for(var e,n,i={},r=t.attributes,o=0,a=r.length;a>o;o++)e=r[o],n=e.name,"setAttribute"!==n&&(i[n]=e.value);return i})),e[i]=function(t,n){if(i=t.toUpperCase(),fe||(fe=!0,K?(w=function(t,e){function n(t,e){for(var n=0,i=t.length;i>n;e(t[n++]));}return new K(function(i){for(var r,o,a=0,s=i.length;s>a;a++)r=i[a],"childList"===r.type?(n(r.addedNodes,t),n(r.removedNodes,e)):(o=r.target,he&&o.attributeChangedCallback&&"style"!==r.attributeName&&o.attributeChangedCallback(r.attributeName,r.oldValue,o.getAttribute(r.attributeName)))})}(a(S),a(C)),w.observe(e,{childList:!0,subtree:!0})):(v=[],le(function g(){for(;v.length;)v.shift().call(null,v.shift());le(g)}),e.addEventListener("DOMNodeInserted",l(S)),e.addEventListener("DOMNodeRemoved",l(C))),e.addEventListener(F,f),e.addEventListener("readystatechange",f),e.createElement=function(t,n){var i=se.apply(e,arguments),r=""+t,o=H.call(D,(n?j:N)+(n||r).toUpperCase()),a=o>-1;return n&&(i.setAttribute("is",n=n.toLowerCase()),a&&(a=u(r.toUpperCase(),n))),he=!e.createElement.innerHTMLHelper,a&&E(i,q[o]),i},te.cloneNode=function(t){var e=re.call(this,!!t),n=s(e);return n>-1&&E(e,q[n]),t&&o(e.querySelectorAll(U)),e}),-2<H.call(D,j+i)+H.call(D,N+i))throw new Error("A "+t+" type is already registered");if(!M.test(i)||-1<H.call(P,i))throw new Error("The type "+t+" is invalid");var i,c=function(){return d?e.createElement(h,i):e.createElement(h)},p=n||R,d=B.call(p,A),h=d?n[A].toUpperCase():i,m=D.push((d?j:N)+i)-1;return U=U.concat(U.length?",":"",d?h+'[is="'+t.toLowerCase()+'"]':h),c.prototype=q[m]=B.call(p,"prototype")?p.prototype:Q(te),r(e.querySelectorAll(U),S),c}}}(window,document,Object,"registerElement");var define,require,esl;!function(t){function e(t){p(t,$)||(H[t]=1)}function n(t,e){function n(t){0===t.indexOf(".")&&r.push(t)}var r=[];if("string"==typeof t?n(t):N(t,function(t){n(t)}),r.length>0)throw new Error("[REQUIRE_FATAL]Relative ID is not allowed in global require: "+r.join(", "));var o=V.waitSeconds;return o&&t instanceof Array&&(M&&clearTimeout(M),M=setTimeout(i,1e3*o)),B(t,e)}function i(){function t(a,s){if(!o[a]&&!p(a,$)){o[a]=1,p(a,U)||i[a]||(i[a]=1,e.push(a));var u=P[a];u?s&&(i[a]||(i[a]=1,e.push(a)),N(u.depMs,function(e){t(e.absId,e.hard)})):r[a]||(r[a]=1,n.push(a))}}var e=[],n=[],i={},r={},o={};for(var a in H)t(a,1);if(e.length||n.length)throw new Error("[MODULE_TIMEOUT]Hang( "+(e.join(", ")||"none")+" ) Miss( "+(n.join(", ")||"none")+" )")}function r(t){N(z,function(e){s(t,e.deps,e.factory)}),z.length=0}function o(t,e,n){if(null==n&&(null==e?(n=t,t=null):(n=e,e=null,t instanceof Array&&(e=t,t=null))),null!=n){var i=window.opera;if(!t&&document.attachEvent&&(!i||"[object Opera]"!==i.toString())){var r=k();t=r&&r.getAttribute("data-require-id")}t?s(t,e,n):z[0]={deps:e,factory:n}}}function a(){var t=V.config[this.id];return t&&"object"==typeof t?t:{}}function s(t,e,n){P[t]||(P[t]={id:t,depsDec:e,deps:e||["require","exports","module"],factoryDeps:[],factory:n,exports:{},config:a,state:D,require:S(t),depMs:[],depMkv:{},depRs:[]})}function u(t){var e=P[t];if(e&&!p(t,q)){var n=e.deps,i=e.factory,r=0;"function"==typeof i&&(r=Math.min(i.length,n.length),!e.depsDec&&i.toString().replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,"").replace(/require\(\s*(['"])([^'"]+)\1\s*\)/g,function(t,e,i){n.push(i)}));var o=[],a=[];N(n,function(n,i){var s,u,c=T(n),l=C(c.mod,t);l&&!R[l]?(c.res&&(u={id:n,mod:l,res:c.res},a.push(n),e.depRs.push(u)),s=e.depMkv[l],s||(s={id:c.mod,absId:l,hard:r>i},e.depMs.push(s),e.depMkv[l]=s,o.push(l))):s={absId:l},r>i&&e.factoryDeps.push(u||s)}),e.state=q,f(t),g(o),a.length&&e.require(a,function(){N(e.depRs,function(e){e.absId||(e.absId=C(e.id,t))}),c()})}}function c(){for(var t in H)u(t),l(t),d(t)}function l(t){function e(t){if(u(t),!p(t,q))return!1;if(p(t,U)||n[t])return!0;n[t]=1;var i=P[t],r=!0;return N(i.depMs,function(t){return r=e(t.absId)}),r&&N(i.depRs,function(t){return r=!!t.absId}),r&&!p(t,U)&&(i.state=U),r}var n={};e(t)}function f(e){function n(){if(!i&&r.state===U){i=1;var n=1;if(N(r.factoryDeps,function(t){var e=t.absId;return R[e]?void 0:(d(e),n=p(e,$))}),n){try{var o=r.factory,a="function"==typeof o?o.apply(t,h(r.factoryDeps,{require:r.require,exports:r.exports,module:r})):o;null!=a&&(r.exports=a),r.invokeFactory=null}catch(s){if(/^\[MODULE_MISS\]"([^"]+)/.test(s.message)){var u=r.depMkv[RegExp.$1];return u&&(u.hard=1),void(i=0)}throw s}v(e)}}}var i,r=P[e];r.invokeFactory=n}function p(t,e){return P[t]&&P[t].state>=e}function d(t){var e=P[t];e&&e.invokeFactory&&e.invokeFactory()}function h(t,e){var n=[];return N(t,function(t,i){"object"==typeof t&&(t=t.absId),n[i]=e[t]||P[t].exports}),n}function m(t,e){if(p(t,$))return void e();var n=W[t];n||(n=W[t]=[]),n.push(e)}function v(t){var e=P[t];e.state=$,delete H[t];for(var n=W[t]||[],i=n.length;i--;)n[i]();n.length=0,W[t]=null}function g(e,n,i){function r(){if("function"==typeof n&&!o){var i=1;N(e,function(t){return R[t]?void 0:i=!!p(t,$)}),i&&(o=1,n.apply(t,h(e,R)))}}var o=0;N(e,function(t){R[t]||p(t,$)||(m(t,r),(t.indexOf("!")>0?b:y)(t,i))}),r()}function y(e){function n(){var t=Q[e];F(t||e,i)}function i(){if(a){var n;"function"==typeof a.init&&(n=a.init.apply(t,h(s,R))),null==n&&a.exports&&(n=t,N(a.exports.split("."),function(t){return n=n[t],!!n})),o(e,s,n||{})}else r(e);c()}if(!X[e]&&!P[e]){X[e]=1;var a=V.shim[e];a instanceof Array&&(V.shim[e]=a={deps:a});var s=a&&(a.deps||[]);s?(N(s,function(t){V.shim[t]||(V.shim[t]={})}),B(s,n)):n()}}function b(t,e){function n(e){u.exports=e||!0,v(t)}function i(i){var r=e?P[e].require:B;i.load(s.res,r,n,a.call({id:t}))}if(!P[t]){var o=Q[t];if(o)return void y(o);var s=T(t),u={id:t,state:q};P[t]=u,n.fromText=function(t,e){new Function(e)(),r(t)},i(B(s.mod))}}function w(t,e){var n=I(t,1,e);return n.sort(j),n}function x(){function t(t){Q[A(t)]=e}V.baseUrl=V.baseUrl.replace(/\/$/,"")+"/",J=w(V.paths),Y=w(V.map,1),N(Y,function(t){t.v=w(t.v)}),Z=[],N(V.packages,function(t){var e=t;"string"==typeof t&&(e={name:t.split("/")[0],location:t,main:"main"}),e.location=e.location||e.name,e.main=(e.main||"main").replace(/\.js$/i,""),e.reg=L(e.name),Z.push(e)}),Z.sort(j),G=w(V.urlArgs,1),Q={};for(var e in V.bundles)N(V.bundles[e],t)}function E(t,e,n){N(e,function(e){return e.reg.test(t)?(n(e.v,e.k,e),!1):void 0})}function _(t,e){var n=/(\.[a-z0-9]+)$/i,i=/(\?[^#]*)$/,r="",o=t,a="";i.test(t)&&(a=RegExp.$1,t=t.replace(i,"")),n.test(t)&&(r=RegExp.$1,o=t.replace(n,"")),null!=e&&(o=C(o,e));var s,u=o;return E(o,J,function(t,e){u=u.replace(e,t),s=1}),s||E(o,Z,function(t,e,n){u=u.replace(n.name,n.location)}),/^([a-z]{2,10}:\/)?\//i.test(u)||(u=V.baseUrl+u),u+=r+a,E(o,G,function(t){u+=(u.indexOf("?")>0?"&":"?")+t}),u}function S(t){function n(n,r){if("string"==typeof n){if(!i[n]){var o=C(n,t);if(d(o),!p(o,$))throw new Error('[MODULE_MISS]"'+o+'" is not exists!');i[n]=P[o].exports}return i[n]}if(n instanceof Array){var a=[],s=[];N(n,function(n,i){var r=T(n),o=C(r.mod,t),u=r.res,c=o;if(u){var l=o+"!"+u;0!==u.indexOf(".")&&Q[l]?o=c=l:c=null}s[i]=c,e(o),a.push(o)}),g(a,function(){N(s,function(i,r){null==i&&(i=s[r]=C(n[r],t),e(i))}),g(s,r,t),c()},t),c()}}var i={};return n.toUrl=function(e){return _(e,t||"")},n}function C(t,e){if(!t)return"";e=e||"";var n=T(t);if(!n)return t;var i=n.res,r=O(n.mod,e);if(E(e,Y,function(t){E(r,t,function(t,e){r=r.replace(e,t)})}),r=A(r),i){var o=p(r,$)&&B(r);i=o&&o.normalize?o.normalize(i,function(t){return C(t,e)}):C(i,e),r+="!"+i}return r}function A(t){return N(Z,function(e){var n=e.name;return n===t?(t=n+"/"+e.main,!1):void 0}),t}function O(t,e){if(0===t.indexOf(".")){var n=e.split("/"),i=t.split("/"),r=n.length-1,o=i.length,a=0,s=0;t:for(var u=0;o>u;u++)switch(i[u]){case"..":if(!(r>a))break t;a++,s++;break;case".":s++;break;default:break t}return n.length=r-a,i=i.slice(s),n.concat(i).join("/")}return t}function T(t){var e=t.split("!");return e[0]?{mod:e[0],res:e[1]}:void 0}function I(t,e,n){var i=[];for(var r in t)if(t.hasOwnProperty(r)){var o={k:r,v:t[r]};i.push(o),e&&(o.reg="*"===r&&n?/^/:L(r))}return i}function k(){if(K)return K;if(te&&"interactive"===te.readyState)return te;for(var t=document.getElementsByTagName("script"),e=t.length;e--;){var n=t[e];if("interactive"===n.readyState)return te=n,n}}function F(t,e){function n(){var t=i.readyState;("undefined"==typeof t||/^(loaded|complete)$/.test(t))&&(i.onload=i.onreadystatechange=null,i=null,e())}var i=document.createElement("script");i.setAttribute("data-require-id",t),i.src=_(t+".js"),i.async=!0,i.readyState?i.onreadystatechange=n:i.onload=n,K=i,ne?ee.insertBefore(i,ne):ee.appendChild(i),K=null}function L(t){return new RegExp("^"+t+"(/|$)")}function N(t,e){if(t instanceof Array)for(var n=0,i=t.length;i>n&&e(t[n],n)!==!1;n++);}function j(t,e){var n=t.k||t.name,i=e.k||e.name;return"*"===i?-1:"*"===n?1:i.length-n.length}var M,P={},D=1,q=2,U=3,$=4,H={},R={require:n,exports:1,module:1},B=S(),V={baseUrl:"./",paths:{},config:{},map:{},packages:[],shim:{},waitSeconds:0,bundles:{},urlArgs:{}};n.version="2.0.6",n.loader="esl",n.toUrl=B.toUrl;var z=[];o.amd={};var W={},X={};n.config=function(t){if(t){for(var e in V){var n=t[e],i=V[e];if(n)if("urlArgs"===e&&"string"==typeof n)V.urlArgs["*"]=n;else if(i instanceof Array)i.push.apply(i,n);else if("object"==typeof i)for(var r in n)i[r]=n[r];else V[e]=n}x()}},x();var J,Z,Y,Q,G,K,te,ee=document.getElementsByTagName("head")[0],ne=document.getElementsByTagName("base")[0];ne&&(ee=ne.parentNode),define||(define=o,require||(require=n),esl=n)}(this),window.require.config({paths:{"searchbox/openjs/aio":"//m.baidu.com/static/searchbox/openjs/aio.js?v=201606",jquery:"//mipcache.bdstatic.com/static/jquery-3.1.0.min"}}),!function(t,e){"function"==typeof define&&define.amd?define("zepto",["require"],function(){return e(t)}):e(t)}(this,function(t){var e=function(){function e(t){return null==t?String(t):Z[Y.call(t)]||"object"}function n(t){return"function"==e(t)}function i(t){return null!=t&&t==t.window}function r(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function o(t){return"object"==e(t)}function a(t){return o(t)&&!i(t)&&Object.getPrototypeOf(t)==Object.prototype}function s(t){var e=!!t&&"length"in t&&t.length,n=C.type(t);return"function"!=n&&!i(t)&&("array"==n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function u(t){return F.call(t,function(t){return null!=t})}function c(t){return t.length>0?C.fn.concat.apply([],t):t}function l(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function f(t){return t in M?M[t]:M[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function p(t,e){return"number"!=typeof e||P[l(t)]?e:e+"px"}function d(t){var e,n;return j[t]||(e=N.createElement(t),N.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),j[t]=n),j[t]}function h(t){return"children"in t?L.call(t.children):C.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function m(t,e){var n,i=t?t.length:0;for(n=0;i>n;n++)this[n]=t[n];this.length=i,this.selector=e||""}function v(t,e,n){for(S in e)n&&(a(e[S])||te(e[S]))?(a(e[S])&&!a(t[S])&&(t[S]={}),te(e[S])&&!te(t[S])&&(t[S]=[]),v(t[S],e[S],n)):e[S]!==_&&(t[S]=e[S])}function g(t,e){return null==e?C(t):C(t).filter(e)}function y(t,e,i,r){return n(e)?e.call(t,i,r):e}function b(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function w(t,e){var n=t.className||"",i=n&&n.baseVal!==_;return e===_?i?n.baseVal:n:void(i?n.baseVal=e:t.className=e)}function x(t){try{return t?"true"==t||("false"==t?!1:"null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?C.parseJSON(t):t):t}catch(e){return t}}function E(t,e){e(t);for(var n=0,i=t.childNodes.length;i>n;n++)E(t.childNodes[n],e)}var _,S,C,A,O,T,I=[],k=I.concat,F=I.filter,L=I.slice,N=t.document,j={},M={},P={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},D=/^\s*<(\w+|!)[^>]*>/,q=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,U=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,$=/^(?:body|html)$/i,H=/([A-Z])/g,R=["val","css","html","text","data","width","height","offset"],B=["after","prepend","before","append"],V=N.createElement("table"),z=N.createElement("tr"),W={tr:N.createElement("tbody"),tbody:V,thead:V,tfoot:V,td:z,th:z,"*":N.createElement("div")},X=/complete|loaded|interactive/,J=/^[\w-]*$/,Z={},Y=Z.toString,Q={},G=N.createElement("div"),K={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},te=Array.isArray||function(t){return t instanceof Array};return Q.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,o=!r;return o&&(r=G).appendChild(t),i=~Q.qsa(r,e).indexOf(t),o&&G.removeChild(t),i},O=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},T=function(t){return F.call(t,function(e,n){return t.indexOf(e)==n})},Q.fragment=function(t,e,n){var i,r,o;return q.test(t)&&(i=C(N.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(U,"<$1></$2>")),e===_&&(e=D.test(t)&&RegExp.$1),e in W||(e="*"),o=W[e],o.innerHTML=""+t,i=C.each(L.call(o.childNodes),function(){o.removeChild(this)})),a(n)&&(r=C(i),C.each(n,function(t,e){R.indexOf(t)>-1?r[t](e):r.attr(t,e)})),i},Q.Z=function(t,e){return new m(t,e)},Q.isZ=function(t){return t instanceof Q.Z},Q.init=function(t,e){var i;if(!t)return Q.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&D.test(t))i=Q.fragment(t,RegExp.$1,e),t=null;else{if(e!==_)return C(e).find(t);i=Q.qsa(N,t)}else{if(n(t))return C(N).ready(t);if(Q.isZ(t))return t;if(te(t))i=u(t);else if(o(t))i=[t],t=null;else if(D.test(t))i=Q.fragment(t.trim(),RegExp.$1,e),t=null;else{if(e!==_)return C(e).find(t);i=Q.qsa(N,t)}}return Q.Z(i,t)},C=function(t,e){return Q.init(t,e)},C.extend=function(t){var e,n=L.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){v(t,n,e)}),t},Q.qsa=function(t,e){var n,i="#"==e[0],r=!i&&"."==e[0],o=i||r?e.slice(1):e,a=J.test(o);return t.getElementById&&a&&i?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:L.call(a&&!i&&t.getElementsByClassName?r?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))},C.contains=N.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},C.type=e,C.isFunction=n,C.isWindow=i,C.isArray=te,C.isPlainObject=a,C.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},C.isNumeric=function(t){var e=Number(t),n=typeof t;return null!=t&&"boolean"!=n&&("string"!=n||t.length)&&!isNaN(e)&&isFinite(e)||!1},C.inArray=function(t,e,n){return I.indexOf.call(e,t,n)},C.camelCase=O,C.trim=function(t){return null==t?"":String.prototype.trim.call(t)},C.uuid=0,C.support={},C.expr={},C.noop=function(){},C.map=function(t,e){var n,i,r,o=[];if(s(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&o.push(n);else for(r in t)n=e(t[r],r),null!=n&&o.push(n);return c(o)},C.each=function(t,e){var n,i;if(s(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},C.grep=function(t,e){return F.call(t,e)},t.JSON&&(C.parseJSON=JSON.parse),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()}),C.fn={constructor:Q.Z,length:0,forEach:I.forEach,reduce:I.reduce,push:I.push,sort:I.sort,splice:I.splice,indexOf:I.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=Q.isZ(e)?e.toArray():e;return k.apply(Q.isZ(this)?this.toArray():this,n)},map:function(t){return C(C.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return C(L.apply(this,arguments))},ready:function(t){return X.test(N.readyState)&&N.body?t(C):N.addEventListener("DOMContentLoaded",function(){t(C)},!1),this},get:function(t){return t===_?L.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return I.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return n(t)?this.not(this.not(t)):C(F.call(this,function(e){return Q.matches(e,t)}))},add:function(t,e){return C(T(this.concat(C(t,e))))},is:function(t){return this.length>0&&Q.matches(this[0],t)},not:function(t){var e=[];if(n(t)&&t.call!==_)this.each(function(n){t.call(this,n)||e.push(this)});else{var i="string"==typeof t?this.filter(t):s(t)&&n(t.item)?L.call(t):C(t);this.forEach(function(t){i.indexOf(t)<0&&e.push(t)})}return C(e)},has:function(t){return this.filter(function(){return o(t)?C.contains(this,t):C(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!o(t)?t:C(t)},last:function(){var t=this[this.length-1];return t&&!o(t)?t:C(t)},find:function(t){var e,n=this;return e=t?"object"==typeof t?C(t).filter(function(){var t=this;return I.some.call(n,function(e){return C.contains(e,t)})}):1==this.length?C(Q.qsa(this[0],t)):this.map(function(){return Q.qsa(this,t)}):C()},closest:function(t,e){var n=[],i="object"==typeof t&&C(t);return this.each(function(o,a){for(;a&&!(i?i.indexOf(a)>=0:Q.matches(a,t));)a=a!==e&&!r(a)&&a.parentNode;a&&n.indexOf(a)<0&&n.push(a)}),C(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=C.map(n,function(t){return(t=t.parentNode)&&!r(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return g(e,t)},parent:function(t){return g(T(this.pluck("parentNode")),t)},children:function(t){return g(this.map(function(){return h(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||L.call(this.childNodes)})},siblings:function(t){return g(this.map(function(t,e){return F.call(h(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return C.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=d(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=n(t);if(this[0]&&!e)var i=C(t).get(0),r=i.parentNode||this.length>1;return this.each(function(n){C(this).wrapAll(e?t.call(this,n):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){C(this[0]).before(t=C(t));for(var e;(e=t.children()).length;)t=e.first();C(t).append(this)}return this},wrapInner:function(t){var e=n(t);return this.each(function(n){var i=C(this),r=i.contents(),o=e?t.call(this,n):t;r.length?r.wrapAll(o):i.append(o)})},unwrap:function(){return this.parent().each(function(){C(this).replaceWith(C(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=C(this);(t===_?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return C(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return C(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;C(this).empty().append(y(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=y(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(o(t))for(S in t)b(this,S,t[S]);else b(this,t,y(this,e,n,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(n=this[0].getAttribute(t))?n:_},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){b(this,t)},this)})},prop:function(t,e){return t=K[t]||t,1 in arguments?this.each(function(n){this[t]=y(this,e,n,this[t])}):this[0]&&this[0][t]},removeProp:function(t){return t=K[t]||t,this.each(function(){delete this[t]})},data:function(t,e){var n="data-"+t.replace(H,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,e):this.attr(n);return null!==i?x(i):_},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=y(this,t,e,this.value)})):this[0]&&(this[0].multiple?C(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=C(this),i=y(this,e,t,n.offset()),r=n.offsetParent().offset(),o={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;if(N.documentElement!==this[0]&&!C.contains(N.documentElement,this[0]))return{top:0,left:0};var n=this[0].getBoundingClientRect();return{left:n.left+t.pageXOffset,top:n.top+t.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}},css:function(t,n){if(arguments.length<2){var i=this[0];if("string"==typeof t){if(!i)return;return i.style[O(t)]||getComputedStyle(i,"").getPropertyValue(t)}if(te(t)){if(!i)return;var r={},o=getComputedStyle(i,"");return C.each(t,function(t,e){r[e]=i.style[O(e)]||o.getPropertyValue(e)}),r}}var a="";if("string"==e(t))n||0===n?a=l(t)+":"+p(t,n):this.each(function(){this.style.removeProperty(l(t))});else for(S in t)t[S]||0===t[S]?a+=l(S)+":"+p(S,t[S])+";":this.each(function(){this.style.removeProperty(l(S))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(C(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?I.some.call(this,function(t){return this.test(w(t))},f(t)):!1},addClass:function(t){return t?this.each(function(e){if("className"in this){A=[];var n=w(this),i=y(this,t,e,n);i.split(/\s+/g).forEach(function(t){C(this).hasClass(t)||A.push(t)},this),A.length&&w(this,n+(n?" ":"")+A.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===_)return w(this,"");A=w(this),y(this,t,e,A).split(/\s+/g).forEach(function(t){A=A.replace(f(t)," ")}),w(this,A.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var i=C(this),r=y(this,t,n,w(this));r.split(/\s+/g).forEach(function(t){(e===_?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===_?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===_?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=$.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(C(t).css("margin-top"))||0,n.left-=parseFloat(C(t).css("margin-left"))||0,i.top+=parseFloat(C(e[0]).css("border-top-width"))||0,i.left+=parseFloat(C(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||N.body;t&&!$.test(t.nodeName)&&"static"==C(t).css("position");)t=t.offsetParent;return t})}},C.fn.detach=C.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});C.fn[t]=function(n){var o,a=this[0];return n===_?i(a)?a["inner"+e]:r(a)?a.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){a=C(this),a.css(t,y(this,n,e,a[t]()))})}}),B.forEach(function(n,i){var r=i%2;C.fn[n]=function(){var n,o,a=C.map(arguments,function(t){var i=[];return n=e(t),"array"==n?(t.forEach(function(t){return t.nodeType!==_?i.push(t):C.zepto.isZ(t)?i=i.concat(t.get()):void(i=i.concat(Q.fragment(t)))}),i):"object"==n||null==t?t:Q.fragment(t)}),s=this.length>1;return a.length<1?this:this.each(function(e,n){o=r?n:n.parentNode,n=0==i?n.nextSibling:1==i?n.firstChild:2==i?n:null;var u=C.contains(N.documentElement,o);a.forEach(function(e){if(s)e=e.cloneNode(!0);else if(!o)return C(e).remove();o.insertBefore(e,n),u&&E(e,function(e){if(!(null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src)){var n=e.ownerDocument?e.ownerDocument.defaultView:t;
n.eval.call(n,e.innerHTML)}})})})},C.fn[r?n+"To":"insert"+(i?"Before":"After")]=function(t){return C(t)[n](this),this}}),Q.Z.prototype=m.prototype=C.fn,Q.uniq=T,Q.deserializeValue=x,C.zepto=Q,C}();return t.Zepto=e,void 0===t.$&&(t.$=e),function(e){function n(t){return t._zid||(t._zid=d++)}function i(t,e,i,a){if(e=r(e),e.ns)var s=o(e.ns);return(g[n(t)]||[]).filter(function(t){return!(!t||e.e&&t.e!=e.e||e.ns&&!s.test(t.ns)||i&&n(t.fn)!==n(i)||a&&t.sel!=a)})}function r(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function o(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function a(t,e){return t.del&&!b&&t.e in w||!!e}function s(t){return x[t]||b&&w[t]||t}function u(t,i,o,u,c,f,d){var h=n(t),m=g[h]||(g[h]=[]);i.split(/\s/).forEach(function(n){if("ready"==n)return e(document).ready(o);var i=r(n);i.fn=o,i.sel=c,i.e in x&&(o=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?i.fn.apply(this,arguments):void 0}),i.del=f;var h=f||o;i.proxy=function(e){if(e=l(e),!e.isImmediatePropagationStopped()){e.data=u;var n=h.apply(t,e._args==p?[e]:[e].concat(e._args));return n===!1&&(e.preventDefault(),e.stopPropagation()),n}},i.i=m.length,m.push(i),"addEventListener"in t&&t.addEventListener(s(i.e),i.proxy,a(i,d))})}function c(t,e,r,o,u){var c=n(t);(e||"").split(/\s/).forEach(function(e){i(t,e,r,o).forEach(function(e){delete g[c][e.i],"removeEventListener"in t&&t.removeEventListener(s(e.e),e.proxy,a(e,u))})})}function l(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(C,function(e,i){var r=n[e];t[e]=function(){return this[i]=E,r&&r.apply(n,arguments)},t[i]=_}),t.timeStamp||(t.timeStamp=Date.now()),(n.defaultPrevented!==p?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=E)),t}function f(t){var e,n={originalEvent:t};for(e in t)S.test(e)||t[e]===p||(n[e]=t[e]);return l(n,t)}var p,d=1,h=Array.prototype.slice,m=e.isFunction,v=function(t){return"string"==typeof t},g={},y={},b="onfocusin"in t,w={focus:"focusin",blur:"focusout"},x={mouseenter:"mouseover",mouseleave:"mouseout"};y.click=y.mousedown=y.mouseup=y.mousemove="MouseEvents",e.event={add:u,remove:c},e.proxy=function(t,i){var r=2 in arguments&&h.call(arguments,2);if(m(t)){var o=function(){return t.apply(i,r?r.concat(h.call(arguments)):arguments)};return o._zid=n(t),o}if(v(i))return r?(r.unshift(t[i],t),e.proxy.apply(null,r)):e.proxy(t[i],t);throw new TypeError("expected function")},e.fn.bind=function(t,e,n){return this.on(t,e,n)},e.fn.unbind=function(t,e){return this.off(t,e)},e.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var E=function(){return!0},_=function(){return!1},S=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,C={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(t,e,n){return this.on(e,t,n)},e.fn.undelegate=function(t,e,n){return this.off(e,t,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,i,r,o){var a,s,l=this;return t&&!v(t)?(e.each(t,function(t,e){l.on(t,n,i,e,o)}),l):(v(n)||m(r)||r===!1||(r=i,i=n,n=p),(r===p||i===!1)&&(r=i,i=p),r===!1&&(r=_),l.each(function(l,p){o&&(a=function(t){return c(p,t.type,r),r.apply(this,arguments)}),n&&(s=function(t){var i,o=e(t.target).closest(n,p).get(0);return o&&o!==p?(i=e.extend(f(t),{currentTarget:o,liveFired:p}),(a||r).apply(o,[i].concat(h.call(arguments,1)))):void 0}),u(p,t,r,i,n,s||a)}))},e.fn.off=function(t,n,i){var r=this;return t&&!v(t)?(e.each(t,function(t,e){r.off(t,n,e)}),r):(v(n)||m(i)||i===!1||(i=n,n=p),i===!1&&(i=_),r.each(function(){c(this,t,i,n)}))},e.fn.trigger=function(t,n){return t=v(t)||e.isPlainObject(t)?e.Event(t):l(t),t._args=n,this.each(function(){t.type in w&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,n){var r,o;return this.each(function(a,s){r=f(v(t)?e.Event(t):t),r._args=n,r.target=s,e.each(i(s,t.type||t),function(t,e){return o=e.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(t,e){v(t)||(e=t,t=e.type);var n=document.createEvent(y[t]||"Events"),i=!0;if(e)for(var r in e)"bubbles"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),l(n)}}(e),function(e){function n(t,n,i){var r=e.Event(n);return e(t).trigger(r,i),!r.isDefaultPrevented()}function i(t,e,i,r){return t.global?n(e||w,i,r):void 0}function r(t){t.global&&0===e.active++&&i(t,null,"ajaxStart")}function o(t){t.global&&!--e.active&&i(t,null,"ajaxStop")}function a(t,e){var n=e.context;return e.beforeSend.call(n,t,e)===!1||i(e,n,"ajaxBeforeSend",[t,e])===!1?!1:void i(e,n,"ajaxSend",[t,e])}function s(t,e,n,r){var o=n.context,a="success";n.success.call(o,t,a,e),r&&r.resolveWith(o,[t,a,e]),i(n,o,"ajaxSuccess",[e,n,t]),c(a,e,n)}function u(t,e,n,r,o){var a=r.context;r.error.call(a,n,e,t),o&&o.rejectWith(a,[n,e,t]),i(r,a,"ajaxError",[n,r,t||e]),c(e,n,r)}function c(t,e,n){var r=n.context;n.complete.call(r,e,t),i(n,r,"ajaxComplete",[e,n]),o(n)}function l(t,e,n){if(n.dataFilter==f)return t;var i=n.context;return n.dataFilter.call(i,t,e)}function f(){}function p(t){return t&&(t=t.split(";",2)[0]),t&&(t==C?"html":t==S?"json":E.test(t)?"script":_.test(t)&&"xml")||"text"}function d(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function h(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()&&"jsonp"!=t.dataType||(t.url=d(t.url,t.data),t.data=void 0)}function m(t,n,i,r){return e.isFunction(n)&&(r=i,i=n,n=void 0),e.isFunction(i)||(r=i,i=void 0),{url:t,data:n,success:i,dataType:r}}function v(t,n,i,r){var o,a=e.isArray(n),s=e.isPlainObject(n);e.each(n,function(n,u){o=e.type(u),r&&(n=i?r:r+"["+(s||"object"==o||"array"==o?n:"")+"]"),!r&&a?t.add(u.name,u.value):"array"==o||!i&&"object"==o?v(t,u,i,n):t.add(n,u)})}var g,y,b=+new Date,w=t.document,x=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,E=/^(?:text|application)\/javascript/i,_=/^(?:text|application)\/xml/i,S="application/json",C="text/html",A=/^\s*$/,O=w.createElement("a");O.href=t.location.href,e.active=0,e.ajaxJSONP=function(n,i){if(!("type"in n))return e.ajax(n);var r,o,c=n.jsonpCallback,l=(e.isFunction(c)?c():c)||"Zepto"+b++,f=w.createElement("script"),p=t[l],d=function(t){e(f).triggerHandler("error",t||"abort")},h={abort:d};return i&&i.promise(h),e(f).on("load error",function(a,c){clearTimeout(o),e(f).off().remove(),"error"!=a.type&&r?s(r[0],h,n,i):u(null,c||"error",h,n,i),t[l]=p,r&&e.isFunction(p)&&p(r[0]),p=r=void 0}),a(h,n)===!1?(d("abort"),h):(t[l]=function(){r=arguments},f.src=n.url.replace(/\?(.+)=\?/,"?$1="+l),w.head.appendChild(f),n.timeout>0&&(o=setTimeout(function(){d("timeout")},n.timeout)),h)},e.ajaxSettings={type:"GET",beforeSend:f,success:f,error:f,complete:f,context:null,global:!0,xhr:function(){return new t.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:S,xml:"application/xml, text/xml",html:C,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:f},e.ajax=function(n){var i,o,c=e.extend({},n||{}),m=e.Deferred&&e.Deferred();for(g in e.ajaxSettings)void 0===c[g]&&(c[g]=e.ajaxSettings[g]);r(c),c.crossDomain||(i=w.createElement("a"),i.href=c.url,i.href=i.href,c.crossDomain=O.protocol+"//"+O.host!=i.protocol+"//"+i.host),c.url||(c.url=t.location.toString()),(o=c.url.indexOf("#"))>-1&&(c.url=c.url.slice(0,o)),h(c);var v=c.dataType,b=/\?.+=\?/.test(c.url);if(b&&(v="jsonp"),c.cache!==!1&&(n&&n.cache===!0||"script"!=v&&"jsonp"!=v)||(c.url=d(c.url,"_="+Date.now())),"jsonp"==v)return b||(c.url=d(c.url,c.jsonp?c.jsonp+"=?":c.jsonp===!1?"":"callback=?")),e.ajaxJSONP(c,m);var x,E=c.accepts[v],_={},S=function(t,e){_[t.toLowerCase()]=[t,e]},C=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:t.location.protocol,T=c.xhr(),I=T.setRequestHeader;if(m&&m.promise(T),c.crossDomain||S("X-Requested-With","XMLHttpRequest"),S("Accept",E||"*/*"),(E=c.mimeType||E)&&(E.indexOf(",")>-1&&(E=E.split(",",2)[0]),T.overrideMimeType&&T.overrideMimeType(E)),(c.contentType||c.contentType!==!1&&c.data&&"GET"!=c.type.toUpperCase())&&S("Content-Type",c.contentType||"application/x-www-form-urlencoded"),c.headers)for(y in c.headers)S(y,c.headers[y]);if(T.setRequestHeader=S,T.onreadystatechange=function(){if(4==T.readyState){T.onreadystatechange=f,clearTimeout(x);var t,n=!1;if(T.status>=200&&T.status<300||304==T.status||0==T.status&&"file:"==C){if(v=v||p(c.mimeType||T.getResponseHeader("content-type")),"arraybuffer"==T.responseType||"blob"==T.responseType)t=T.response;else{t=T.responseText;try{t=l(t,v,c),"script"==v?(1,eval)(t):"xml"==v?t=T.responseXML:"json"==v&&(t=A.test(t)?null:e.parseJSON(t))}catch(i){n=i}if(n)return u(n,"parsererror",T,c,m)}s(t,T,c,m)}else u(T.statusText||null,T.status?"error":"abort",T,c,m)}},a(T,c)===!1)return T.abort(),u(null,"abort",T,c,m),T;var k="async"in c?c.async:!0;if(T.open(c.type,c.url,k,c.username,c.password),c.xhrFields)for(y in c.xhrFields)T[y]=c.xhrFields[y];for(y in _)I.apply(T,_[y]);return c.timeout>0&&(x=setTimeout(function(){T.onreadystatechange=f,T.abort(),u(null,"timeout",T,c,m)},c.timeout)),T.send(c.data?c.data:null),T},e.get=function(){return e.ajax(m.apply(null,arguments))},e.post=function(){var t=m.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=m.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,i){if(!this.length)return this;var r,o=this,a=t.split(/\s/),s=m(t,n,i),u=s.success;return a.length>1&&(s.url=a[0],r=a[1]),s.success=function(t){o.html(r?e("<div>").html(t.replace(x,"")).find(r):t),u&&u.apply(o,arguments)},e.ajax(s),this};var T=encodeURIComponent;e.param=function(t,n){var i=[];return i.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(T(t)+"="+T(n))},v(i,t,n),i.join("&").replace(/%20/g,"+")}}(e),function(){try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;t.getComputedStyle=function(t,e){try{return n(t,e)}catch(i){return null}}}}(),function(t){t.fn.serializeArray=function(){var e,n,i=[],r=function(t){return t.forEach?t.forEach(r):void i.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(i,o){n=o.type,e=o.name,e&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&r(t(o).val())}),i},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(e),function(t,e){function n(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function i(t){return r?r+t:t.toLowerCase()}var r,o,a,s,u,c,l,f,p,d,h="",m={Webkit:"webkit",Moz:"",O:"o"},v=document.createElement("div"),g=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};v.style.transform===e&&t.each(m,function(t,n){return v.style[t+"TransitionProperty"]!==e?(h="-"+t.toLowerCase()+"-",r=n,!1):void 0}),o=h+"transform",y[a=h+"transition-property"]=y[s=h+"transition-duration"]=y[c=h+"transition-delay"]=y[u=h+"transition-timing-function"]=y[l=h+"animation-name"]=y[f=h+"animation-duration"]=y[d=h+"animation-delay"]=y[p=h+"animation-timing-function"]="",t.fx={off:r===e&&v.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:h,transitionEnd:i("TransitionEnd"),animationEnd:i("AnimationEnd")},t.fn.animate=function(n,i,r,o,a){return t.isFunction(i)&&(o=i,r=e,i=e),t.isFunction(r)&&(o=r,r=e),t.isPlainObject(i)&&(r=i.easing,o=i.complete,a=i.delay,i=i.duration),i&&(i=("number"==typeof i?i:t.fx.speeds[i]||t.fx.speeds._default)/1e3),a&&(a=parseFloat(a)/1e3),this.anim(n,i,r,o,a)},t.fn.anim=function(i,r,h,m,v){var b,w,x,E={},_="",S=this,C=t.fx.transitionEnd,A=!1;if(r===e&&(r=t.fx.speeds._default/1e3),v===e&&(v=0),t.fx.off&&(r=0),"string"==typeof i)E[l]=i,E[f]=r+"s",E[d]=v+"s",E[p]=h||"linear",C=t.fx.animationEnd;else{w=[];for(b in i)g.test(b)?_+=b+"("+i[b]+") ":(E[b]=i[b],w.push(n(b)));_&&(E[o]=_,w.push(o)),r>0&&"object"==typeof i&&(E[a]=w.join(", "),E[s]=r+"s",E[c]=v+"s",E[u]=h||"linear")}return x=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(C,x)}else t(this).unbind(C,x);A=!0,t(this).css(y),m&&m.call(this)},r>0&&(this.bind(C,x),setTimeout(function(){A||x.call(S)},1e3*(r+v)+25)),this.size()&&this.get(0).clientLeft,this.css(E),0>=r&&setTimeout(function(){S.each(function(){x.call(this)})},0),this},v=null}(e),function(e,n){function i(t,i,r,o,a){"function"!=typeof i||a||(a=i,i=n);var s={opacity:r};return o&&(s.scale=o,t.css(e.fx.cssPrefix+"transform-origin","0 0")),t.animate(s,i,null,a)}function r(t,n,r,o){return i(t,n,0,r,function(){s.call(e(this)),o&&o.call(this)})}var o=t.document,a=(o.documentElement,e.fn.show),s=e.fn.hide,u=e.fn.toggle;e.fn.show=function(t,e){return a.call(this),t===n?t=0:this.css("opacity",0),i(this,t,1,"1,1",e)},e.fn.hide=function(t,e){return t===n?s.call(this):r(this,t,"0,0",e)},e.fn.toggle=function(t,i){return t===n||"boolean"==typeof t?u.call(this,t):this.each(function(){var n=e(this);n["none"==n.css("display")?"show":"hide"](t,i)})},e.fn.fadeTo=function(t,e,n){return i(this,t,e,null,n)},e.fn.fadeIn=function(t,e){var n=this.css("opacity");return n>0?this.css("opacity",0):n=1,a.call(this).fadeTo(t,n,e)},e.fn.fadeOut=function(t,e){return r(this,t,null,e)},e.fn.fadeToggle=function(t,n){return this.each(function(){var i=e(this);i[0==i.css("opacity")||"none"==i.css("display")?"fadeIn":"fadeOut"](t,n)})}}(e),e}),define("components/fn",["require"],function(){"use strict";var t=function(t,e){var n,i,r,o=0;!e&&(e=10);var a=function(){r=0,o=Date.now(),t.apply(n,i)};return function(){var t=Date.now()-o;n=this,i=arguments,clearTimeout(r),t>=e?a():r=setTimeout(a,e-t)}},e=function(t){for(var e=Object.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i};return{throttle:t,values:e}}),define("components/cssLoader",["require"],function(){function t(t,n,i,r,o){var a=t.createElement("style");a.textContent=i;var s=null;return o?a.setAttribute("mip-main",""):(a.setAttribute("mip-extension",r||""),s=n.querySelector("style[mip-main]")),e(n,a,s),a}function e(t,e,n){n?n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild)}return{insertStyleElement:t}}),define("components/layout",["require"],function(){function t(){this.Layout={NODISPLAY:"nodisplay",FIXED:"fixed",FIXED_HEIGHT:"fixed-height",RESPONSIVE:"responsive",CONTAINER:"container",FILL:"fill",FLEX_ITEM:"flex-item"},this._naturalDimensions={"mip-pix":{width:"1px",height:"1px"},"mip-stats":{width:"1px",height:"1px"},"mip-audio":null,"mip-share":{width:"60px",height:"44px"}},this._LOADING_ELEMENTS={"mip-anim":!0,"mip-brightcove":!0,"mip-embed":!0,"mip-iframe":!0,"mip-img":!0,"mip-list":!0,"mip-video":!0}}return t.prototype.parseLayout=function(t){for(var e in this.Layout)if(this.Layout[e]==t)return t;return void 0},t.prototype.getLayoutClass=function(t){return"mip-layout-"+t},t.prototype.isLayoutSizeDefined=function(t){return t==this.Layout.FIXED||t==this.Layout.FIXED_HEIGHT||t==this.Layout.RESPONSIVE||t==this.Layout.FILL||t==this.Layout.FLEX_ITEM},t.prototype.isInternalElement=function(t){var e="string"==typeof t?t:t.tagName;return e&&0==e.toLowerCase().indexOf("mip-i-")},t.prototype.parseLength=function(t){return"number"==typeof t?t+"px":t&&/^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax|cm|mm|q|in|pc|pt)?$/.test(t)?/^\d+(\.\d+)?$/.test(t)?t+"px":t:void 0},t.prototype.getLengthUnits=function(t){var e=t.match(/[a-z]+/i);return e[0]},t.prototype.getLengthNumeral=function(t){return parseFloat(t)},t.prototype.hasNaturalDimensions=function(t){return t=t.toUpperCase(),void 0!==this._naturalDimensions[t]},t.prototype.getNaturalDimensions=function(t){var e=t.tagName.toLowerCase();if(!this._naturalDimensions[e]){var n=t.ownerDocument,i=e.replace(/^mip\-/,""),r=n.createElement(i);r.controls=!0,r.style.position="absolute",r.style.visibility="hidden",n.body.appendChild(r),this._naturalDimensions[e]={width:(r.offsetWidth||1)+"px",height:(r.offsetHeight||1)+"px"},n.body.removeChild(r)}return this._naturalDimensions[e]},t.prototype.isLoadingAllowed=function(t){return this._LOADING_ELEMENTS[t.toLowerCase()]||!1},new t}),define("components/gesture",["components/event"],function(t){var e=function(t){var e,n,i="touchend"===t.type;i?(touch=t.changedTouches[0],e=touch.screenX-this.startX,n=touch.screenY-this.startY):(touch=t.touches,e=touch.screenX,n=touch.screenY,"touchstart"===t.type&&(this.startX=e,this.startY=n,this.startT=t.timeStamp)),this.trigger("gesture "+t.type,{event:t.type,x:e,y:n,_t:t.timeStamp},t)},n=function(t){this._eventContext=this._element=t,this.startX=this.startY=this.startT=0,this._boundTouchEvent=e.bind(this),t.addEventListener("touchstart",this._boundTouchEvent,!1),t.addEventListener("touchmove",this._boundTouchEvent,!1),t.addEventListener("touchend",this._boundTouchEvent,!1),this._boundTriggerListener=this.trigger.bind(this)};return t.mixin(n.prototype),n.prototype.cleanup=function(){element.removeEventListener("touchstart",this._boundTouchEvent),element.removeEventListener("touchmove",this._boundTouchEvent),element.removeEventListener("touchend",this._boundTouchEvent)},n}),define("components/platform",["require"],function(){function t(){return/iPhone|iPad|iPod/i.test(o)}function e(){return/Safari/i.test(o)&&!n()}function n(){return/Chrome|CriOS/i.test(o)}function i(){return/UCBrowser/i.test(o)}function r(){return/WebKit/i.test(o)}var o=navigator.userAgent;return{isIos:t,isSafari:e,isChrome:n,isUc:i,isWebkit:r,needSpecialScroll:t()&&window!=top}}),define("components/rect",["components/platform"],function(t){"use strict";var e=function(e){if(t.needSpecialScroll&&window!==top){var n=document.createElement("div");return n.style.cssText=e?"position:absolute;width:0;height:0;visibility:hidden;":"position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;",document.body.appendChild(n),n}return null},n={get:function(t,e,n,i){return{left:t,top:e,width:n,height:i,right:t+n,bottom:e+i}},scrollingElement:document.scrollingElement||document.body&&t.isWebkit()&&document.body||document.documentElement,getterElement:e(),setterElement:e(),endElement:e(!0),getFromDom:function(t){var e=t.getBoundingClientRect();return n.get(e.left+n.getScrollLeft(),e.top+n.getScrollTop(),e.width,e.height)},getScrollLeft:function(){return n.scrollingElement.scrollLeft||pageXOffset||n.getterElement&&-n.getterElement.getBoundingClientRect().left||0},getScrollTop:function(){return n.scrollingElement.scrollTop||pageYOffset||n.getterElement&&-n.getterElement.getBoundingClientRect().top||0},setScrollTop:function(t){var e;(e=n.setterElement)&&(e.style.top=t+"px",e.scrollIntoView(!0))},_getscroll:function(t){return n.endElement!==document.body.lastElementChild&&document.body.appendChild(n.endElement),n.endElement.getBoundingClientRect()[t]-n.getterElement.getBoundingClientRect()[t]},getScrollHeight:function(){return n.endElement?n._getscroll("top"):n.scrollingElement.scrollHeight},getScrollWidth:function(){return n.endElement?n._getscroll("left"):n.scrollingElement.scrollWidth},overlapping:function(t,e){return t.top<=e.bottom&&e.top<=t.bottom&&t.left<=e.right&&e.left<=t.right}};return n}),define("components/event",["require"],function(){var t=/\s+/,e=function(t){this.__eventContext=t||this},n=e.prototype={on:function(t,e){return this._getEvent(t).push(e),this},off:function(t,e){if(0==arguments.length)this.__events=null,this._removeEventCallback();else if(arguments.length>1){var n=this._getEvent(t),i=n.indexOf(e);i>-1&&n.splice(i,1)}return(1==arguments.length||n&&0===n.length)&&(delete this.__events[t],this._removeEventCallback(this._removeEventCallback(t))),this},once:function(t,e){var n=e.bind(this);n.__once=!0,this.on(t,n)},trigger:function(e){var n=Array.prototype.slice.call(arguments,1);if(e.search(t)>-1){e=e.split(t);for(var i=0;i<e.length;i++)n.unshift(e[i]),this.trigger.apply(this,n),n.shift()}else for(var r=this._getEvent(e),o=this.__eventContext||this,i=0;i<r.length;i++)r[i].apply(o,n),r[i].__once&&r.splice(i,1)},_getEvent:function(t){return this.__events||(this.__events={}),this.__events[t]||(this.__events[t]=[],this._createEventCallback(t,this.__events[t])),this.__events[t]},_createEventCallback:function(){},_removeEventCallback:function(){}};["on bind","off unbind","once one","trigger fire"].forEach(function(t){for(var t=t.split(" "),e=1;e<t.length;e++)n[t[e]]=n[t[0]]});var i=Object.keys(n);return e.mixin=function(t){for(var e=0;e<i.length;e++)t[i[e]]=n[i[e]];return t},e}),define("components/css",["require"],function(){"use strict";var t=/(?:(^-)|-)+(.)?/g,e=document.createElement("div"),n=["webkit","moz","ms","o","Webkit","Moz","O"],i={},r=function(r){if(r=r.replace(t,function(t,e,n){return e?n:n.toUpperCase()}),i[r])return i[r];if(!(r in e.style))for(var o=0;o<n.length;o++){var a=n[o]+r.charAt(0).toUpperCase()+r.slice(1);if(a in e.style){var s=a;break}}return i[r]=s||r,r},o={},a=/^\d+([a-zA-Z]+)/,s=function(t,n){if(n!==+n)return n;if(o[t])return n+o[t];e.style[t]=0;var i=e.style[t].match(a);return i?n+(o[t]=i[1]):n},u=function(t,e,n){var i;if(!e)return o;if(t.length&&t[0]){if(e&&void 0!==n){for(i=0;i<t.length;i++){var o=t[i];u(o,e,n)}return t}var a=[];for(i=0;i<t.length;i++)a.push(u(t[i],e));return a}var o=t;if("string"!=typeof e||void 0!==n){var c;if("string"==typeof e)c=r(e),o.style[c]=n===+n?s(c,n):n;else for(i in e)n=e[i],c=r(i),o.style[c]=n===+n?s(c,n):n;return o}return e=r(e),o.style[e]||document.defaultView.getComputedStyle(o)[e]};return u}),define("viewport",["components/rect","components/platform","components/event","util"],function(t,e,n,i){"use strict";var r,o,a=document.documentElement,s=window,u={getScrollTop:function(){return this._scrollTop=t.getScrollTop()},getScrollLeft:function(){return null==this._scrollLeft&&(this._scrollLeft=t.getScrollLeft()),this._scrollLeft},setScrollTop:function(e){t.setScrollTop(e)},getWidth:function(){return s.innerWidth||a.clientWidth},getHeight:function(){return s.innerHeight||a.clientHeight},getScrollWidth:function(){return t.getScrollWidth()},getScrollHeight:function(){return t.getScrollHeight()},getRect:function(){return t.get(this.getScrollLeft(),this.getScrollTop(),this.getWidth(),this.getHeight())}},c=function(){return r=i.fn.throttle(p.bind(this),20),(e.needSpecialScroll?document.body:s).addEventListener("scroll",l.bind(this),!1),s.addEventListener("resize",f.bind(this),!1),this},l=function(t){this.getScrollTop()<0||(this._scrolling||(o=!0,r(t)),this.trigger("scroll",t))},f=function(t){this.trigger("resize",t)},p=function(t,e,n){var i=Date.now(),a=this.getScrollTop();n!=i&&Math.abs((e-a)/(n-i))<.03?(o=!1,this.trigger("changed",t,this.getRect())):r(t,a,i)};return n.mixin(u),c.call(u)}),define("customElement",["require"],function(){function t(t){this.element=t,this.init&&this.init()}return t.prototype.applyFillContent=function(t,e){t.classList.add("mip-fill-content"),e&&t.classList.add("mip-replaced-content")},t.prototype.createdCallback=function(){},t.prototype.attachedCallback=function(){},t.prototype.detachedCallback=function(){},t.prototype.attributeChangedCallback=function(){},t.prototype.inviewCallback=function(){},t.prototype.viewportCallback=function(){},t.prototype.prerenderAllowed=function(){return!1},t.prototype.build=function(){},{create:function(){var e=function(e){t.call(this,e)};return e.prototype=Object.create(t.prototype),e}}}),define("element",["components/cssLoader","components/layout","resources"],function(t,e,n){function i(t){var n,i,r,o=t.getAttribute("layout"),a=t.getAttribute("width"),s=t.getAttribute("height"),u=t.getAttribute("sizes"),c=t.getAttribute("heights"),l=o?e.parseLayout(o):null,f=a&&"auto"!=a?e.parseLength(a):a,p=s?e.parseLength(s):null;if(l&&l!=e.Layout.FIXED&&l!=e.Layout.FIXED_HEIGHT||f&&p||!e.hasNaturalDimensions(t.tagName))n=f,i=p;else{var d=e.getNaturalDimensions(t);n=f||l==e.Layout.FIXED_HEIGHT?f:d.width,i=p||d.height}if(r=l?l:n||i?!i||n&&"auto"!=n?i&&n&&(u||c)?e.Layout.RESPONSIVE:e.Layout.FIXED:e.Layout.FIXED_HEIGHT:e.Layout.CONTAINER,t.classList.add(e.getLayoutClass(r)),e.isLayoutSizeDefined(r)&&t.classList.add("mip-layout-size-defined"),r==e.Layout.NODISPLAY)t.style.display="none";else if(r==e.Layout.FIXED)t.style.width=n,t.style.height=i;else if(r==e.Layout.FIXED_HEIGHT)t.style.height=i;else if(r==e.Layout.RESPONSIVE){var h=t.ownerDocument.createElement("mip-i-space");h.style.display="block",h.style.paddingTop=e.getLengthNumeral(i)/e.getLengthNumeral(n)*100+"%",t.insertBefore(h,t.firstChild),t._spaceElement=h}else r==e.Layout.FILL||r==e.Layout.CONTAINER||r==e.Layout.FLEX_ITEM&&(n&&(t.style.width=n),i&&(t.style.height=i));return r}var r,o,a={},s=function(){if(o)return o;var t=Object.create(HTMLElement.prototype);return t.createdCallback=function(){var t=a[this.name];this.classList.add("mip-element"),this._inViewport=!1,this._firstInViewport=!1,this._resources=r,this.customElement=new t(this),this.customElement.createdCallback()},t.attachedCallback=function(){this._layout=i(this),this.customElement.attachedCallback(),this._resources.add(this)},t.detachedCallback=function(){this.customElement.detachedCallback(),this._resources.remove(this)},t.attributeChangedCallback=function(){this.customElement.attributeChangedCallback()},t.inViewport=function(){return this._inViewport},t.viewportCallback=function(t){this._inViewport=t,this._firstInViewport||(this._firstInViewport=!0,this.customElement.inviewCallback()),this.customElement.viewportCallback(t)},t.isBuilt=function(){return this._built},t.prerenderAllowed=function(){return this.customElement.prerenderAllowed()},t.build=function(){if(!this.isBuilt())try{this.customElement.build(),this._built=!0}catch(t){console.warn("build error:",t)}},o=t},u=function(t){var e=Object.create(s());return e.name=t,e},c=function(e){e&&t.insertStyleElement(document,document.head,e,name,!1)},l=function(t,e,i){a[t]||(r||(r=new n),a[t]=e,c(i),document.registerElement(t,{prototype:u(t)}))};return l}),define("util",["components/fn"],function(t){function e(t,e,n){if(t.indexOf("mipcache.bdstatic.com")<0||e&&e.length<8||0!=e.indexOf("http")&&0!=e.indexOf("//"))return e;var i="img"===n?"/i/":"/c/";(0==e.indexOf("//")||0==e.indexOf("https"))&&(i+="s/");var r=e.split("//");return r.shift(),e=r.join("//"),i+e}return{urlToCacheUrl:e,fn:t}}),define("resources",["util","viewport","components/rect"],function(t,e,n){var i={},r=0,o=t.fn,a=function(){this._rid=r++,this._eid=0,i[this._rid]=[];var t=this._update.bind(this);this.updateState=o.throttle(t),this._viewport=e,this._bind()};return a.prototype={_bind:function(){var t=this;this._viewport.on("changed",function(){t._update()}),this._update()},add:function(t){t._eid=this._eid++,i[this._rid][t._eid]=t,t.build(),this.updateState()},remove:function(t){var e=t._eid||t;return Number.isFinite(+e)&&i[this._rid][e]?(delete i[this._rid][e],!0):!1},getSources:function(){return i[this._rid]},getSourcesList:function(){return o.values(this.getSources())},setInViewport:function(t,e){t.inViewport()!=e&&t.viewportCallback(e)},_update:function(){var t=this.getSources(),e=this._viewport.getRect();for(var i in t){var r=t[i].prerenderAllowed()||n.overlapping(n.getFromDom(t[i]),e);this.setInViewport(t[i],r)}}},a.prerenderElement=function(t){t.inViewport&&!t.inViewport()&&t.viewportCallback&&t.viewportCallback(!0)},a}),define("viewer",["components/platform","components/event","components/css"],function(t,e,n){"use strict";var i=window,r={init:function(){this.patchForIframe(),this.sendMessage("mippageload",{time:Date.now()})},isIframed:i!==top,patchForIframe:function(){t.needSpecialScroll&&(n([document.documentElement,document.body],{height:"100%",overflow:"auto"}),n(document.body,"position","relative"))},show:function(){n(document.body,{opacity:1,animation:"none","-webkit-animation":"none","-moz-animation":"none","-ms-animation":"none"}),this.trigger("load",Date.now())},sendMessage:function(t,e){this.isIframed&&window.parent.postMessage({event:t,data:e},"*")}};return e.mixin(r),r}),define("builtins/mip-img",["util","zepto","customElement"],function(t){function e(t){var e=+t.oWid,i=+t.oHei,r=n(window),o=r.width(),a=Math.round(o*i/e),s=(r.height()-a)/2;return{wid:o,hei:a,left:0,top:s}}var n=require("zepto"),i=require("customElement").create(),r=function(){if(!this.isRender){this.isRender=!0;var i=new Image;this.applyFillContent(i,!0);var r=this.element,o=t.urlToCacheUrl(document.location.href,r.getAttribute("src"),"img");if(i.src=o,r.getAttribute("alt")&&i.setAttribute("alt",r.getAttribute("alt")),r.insertBefore(i,r.firstChild),""===n(r).attr("popup")||"popup"===n(r).attr("popup")){var a=['<div class="mip-img-popUp-wrapper">','<div class="mip-img-popUp-bg"></div>','<img src="'+o+'" />',"</div>"].join(""),s=n(i),u=(n(r),n(a).insertAfter(s)),c=u.find(".mip-img-popUp-bg"),l=u.find("img"),f=400;u.on("click",function(){c.fadeOut(f);var t=s.offset().left,e=s.offset().top-n(window).scrollTop();l.animate({left:t,top:e,width:s.width(),height:s.height()},f,function(){u.hide()})}),s.on("click",function(){var t=i.width,r=i.height,o=e({oWid:t,oHei:r}),a=s.offset().left,p=s.offset().top-n(window).scrollTop();l.css({left:a,top:p,width:s.width(),height:s.height()}),c.show(),u.show(),l.animate({left:o.left,top:o.top,width:o.wid,height:o.hei},f)})}}};return i.prototype.inviewCallback=r,i}),define("builtins/mip-gif",["require","zepto","customElement"],function(t){function e(){var t=this;if(!t.isRender){t.isRender=!0;var e=new Image,i=t.element,r=i.getAttribute("src");e.src=r,i.getAttribute("width")&&e.setAttribute("width",i.getAttribute("width")),i.getAttribute("height")&&e.setAttribute("height",i.getAttribute("height")),i.getAttribute("srcset")&&e.setAttribute("srcset",i.getAttribute("srcset")),i.getAttribute("sizes")&&e.setAttribute("sizes",i.getAttribute("sizes")),i.appendChild(e),n(e).on("click",function(){var e=this.parentNode,n=e.getAttribute("src"),i=new Image;t=this,i.onload=function(){e.removeChild(t),e.appendChild(this),t=null},i.src=n})}}var n=t("zepto"),i=t("customElement").create();return i.prototype.init=function(){this.build=e},i}),define("builtins/mip-pix",["require","customElement"],function(t){function e(){if(!this.isRender){this.isRender=!0;var t=new Image,e=this.element,i=e.getAttribute("src"),r=window.location.href,o=(document.querySelector("title")||{}).innerHTML||"",a=(new Date).getTime();i=n(i,"t",a),i=n(i,"title",encodeURIComponent(o)),i=n(i,"host",encodeURIComponent(r)),t.src=i,t.setAttribute("width",0),t.setAttribute("height",0),e.setAttribute("width",""),e.setAttribute("height",""),e.appendChild(t)}}function n(t,e,n){return t.indexOf("?"+e)>-1||t.indexOf("&"+e)>-1?t:(t+=t.indexOf("?")>-1?"&":"?",t+e+"="+n)}var i=t("customElement").create();return i.prototype.init=function(){this.build=e,this.attachedCallback=function(){this.build()}},i}),define("builtins/mip-carousel",["require","zepto","customElement"],function(t){var e=t("zepto"),n=t("customElement").create(),i=function(){function t(e){c=setTimeout(function(){d(!0).then(function(){t(e)})},e)}var n=this.element,i=this;if(!this.isRender){this.isRender=!0,$this=e(n);var r=$this.attr("height");if(r){var o=$this.children().not("mip-i-space");if(!(o.length<2)){var a=0,s=-9999,u=300;o.css({position:"absolute",left:s,top:0,height:"100%",width:"100%"}),o.map(function(t,n){"mip-img"==n.tagName.toLocaleLowerCase()?i.applyFillContent(n,!0):e(n).find("mip-img").map(function(t,e){i.applyFillContent(e,!0)
})}),o.eq(a).css("left",0);var c,l,f=!1,p=!1,d=function(t){var n=t?a+1:a-1;0>n?n=o.length-1:n>=o.length&&(n=0);var i,r=$this.width(),c=(t?1:-1)*r;return o.filter(function(t){return t!==a&&t!==n}).css("left",s),o.css({display:"block",opacity:1,"z-index":1}),o.eq(n).css({left:c,"z-index":2}),"mip-img"==o.eq(n)[0].tagName.toLocaleLowerCase()?MIP.prerenderElement(o.eq(n)[0]):($box=e(o.eq(n)[0]),$box.find("mip-img").map(function(t,e){MIP.prerenderElement(e)})),p=!0,i=new Promise(function(t){o.eq(n).animate({left:0},u,function(){a=n,t(),p=!1})}),o.eq(a).fadeOut(u),i},h=!1;("autoplay"===$this.attr("autoplay")||""===$this.attr("autoplay"))&&(l="number"==typeof+n.getAttribute("defer")?+n.getAttribute("defer"):2e3,h=!0,t(l)),h&&($this.delegate("mip-img","click",function(){("popup"===e(this).attr("popup")||""===e(this).attr("popup"))&&(c&&clearTimeout(c),f=!0)}),$this.delegate(".mip-img-popUp-wrapper","click",function(){return t(l),f=!1,!1}))}}}};return n.prototype.init=function(){this.build=i},n}),define("builtins/mip-iframe",["require","zepto","customElement"],function(t){var e=t("zepto"),n=t("customElement").create(),i=function(){var t=this.element;if(!t.isRender){t.isRender=!0;var n=e(t),i=n.attr("src");n.attr("srcdoc")&&(i="data:text/html;charset=utf-8;base64,"+window.btoa(n.attr("srcdoc")));var r=n.attr("height"),o=n.attr("width")||"100%";if(i&&o&&r){var a=["<iframe ",'frameBorder="0" ','scrolling="no" ','style="width:'+o+"; height:"+r+'">',"</iframe>"].join(""),s=e(a);this.applyFillContent(s[0]),s.attr("src",i),""===n.attr("allowfullscreen")&&s.attr("allowfullscreen",""),"true"===n.attr("allowtransparency")&&s.attr("allowtransparency","true");var u=n.attr("sandbox");(u||""===u)&&s.attr("sandbox",u),n.append(s)}}};return n.prototype.init=function(){this.build=i},n}),!function(t,e){function n(t,e){return f.cleanObj.toString.call(t).slice(8,-1)===e}function i(t){var e=p[t];if(e)return e.exports;throw"module "+t+" is undefined"}function r(t,e){for(var n,r,o=t.split(":"),a=o.pop().split("/"),s=f;n=a.shift();)"bdbox"!==n&&(r=n,a.length&&(s=s[n]=s[n]||{}));var u=p[t]={exports:{}},c=f.isFunction(e)?e.apply(u,[i,u.exports,u,f]):e;c&&(u.exports=c),s[r]=u.exports}function o(){h.forEach(function(t){t()}),h.length=0,m=!0}function a(t){var e;return null==t?e=String(t):(e=Object.prototype.toString.call(t).toLowerCase(),e=e.substring(8,e.length-1)),e}function s(e){var n=e.success||y,i={imageUrl:"",mediaType:"all",title:"",content:"",linkUrl:location.href},r=e.error||y;return f.isFunction(e.success)&&(n="_xSHARE_SUCCESS_"+f.getId(),t[n]=e.success,i.success=n),f.isFunction(e.error)&&(r="_xSHARE_FAIL_"+f.getId(),t[r]=e.error,i.error=r),f.each(e,function(t,n){"success"!==n&&"error"!==n&&(n in g?n=g[n]:"content"!==n||e.title||(i.title=t),i[n]=t)}),f.isArray(i.mediaType)&&(i.mediaType="all"),t.BoxShareData||(t.BoxShareData={successcallback:n,errorcallback:r,options:i}),i}var u=+new Date,c=(u+"").slice(-3),l=navigator.userAgent,f={isBox:/ baiduboxapp\//i.test(l),isIOS:/(iPhone|iPod|iPad)/.test(l),isAndroid:/(Android);?[\s\/]+([\d.]+)?/.test(l),getId:function(){return c++},emptyArr:[],emptyFn:function(){},cleanObj:{},byId:function(t){return f.isString(t)?e.getElementById(t):t},toArray:function(t){return f.emptyArr.slice.call(t)},$:function(t,n){return n=n&&1===n.nodeType?n:e,f.toArray(n.querySelectorAll(t))}};"Function,String,Array,Number,RegExp".replace(/[^, ]+/g,function(t){f["is"+t]=function(e){return n(e,t)}}),f.isBoolean=function(t){return t===!0||t===!1},f.isObject=function(t){return"object"==typeof t},f.isUndefined=function(t){return void 0===t},f.isWindow=function(t){return null!=t&&t==t.window},f.isPlainObject=function(t){return f.isObject(t)&&!f.isWindow(t)&&Object.getPrototypeOf(t)==Object.prototype};var p={};f.define=r;var d=function(t,e,n){for(var i,r,o=t.split("."),a=n||d;i=o.shift();)"Box"!==i&&(r=i,o.length&&(a=a[i]=a[i]||{}));return a[r]=e||{},a[r]},h=[],m=!1;if(d.init=function(t){return"function"!=typeof t?this:(m?t():h.push(t),this)},"complete,loaded,interactive".indexOf(e.readyState)>-1&&e.body?o():e.addEventListener("DOMContentLoaded",o,!1),r("common:bdbox/utils/getVersion",function(e,n,i){var r=function(){var e=0;if(t.baiduboxapp_version)e=t.baiduboxapp_version;else{var n,i=navigator.userAgent;(n=/([\d+.]+)_(?:diordna|enohpi)_/.exec(i))?(n=n[1].split("."),e=n.reverse().join(".")):(n=/baiduboxapp\/([\d+.]+)/.exec(i))&&(e=n[1])}return r=function(){return e},e};i.exports=r}),r("common:bdbox/utils/version_compare",function(t,e,n){var i=function(t,e){e+="",t+="";for(var n=t.split("."),i=e.split("."),r=0,o=Math.max(n.length,i.length);o>r;r++){if(n[r]&&!i[r]&&parseInt(n[r])>0||parseInt(n[r])>parseInt(i[r]))return 1;if(i[r]&&!n[r]&&parseInt(i[r])>0||parseInt(n[r])<parseInt(i[r]))return-1}return 0};n.exports=i}),r("common:bdbox/ios/invokeApp",function(n,i,r,o){r.exports=function(n,i,r){if(n&&o.isBox){var a=[];if(o.isFunction(i))r=i;else for(var s in i)a.push(s+"="+i[s]);if(o.isFunction(r)){var u="_bdbox_js_"+o.getId();t[u]=function(){r.apply(t,[].slice.call(arguments,0))},a.push("func="+u)}else r&&a.push("func="+r);a="baiduboxapp://"+n+"?"+a.join("&");var c="_bdbox_ios_jsbridge",l=e.getElementById(c);l?l.src=a:(l=e.createElement("iframe"),l.style.display="none",l.id=c,l.src=a,(e.body||e.getElementsByTagName("body")[0]).appendChild(l))}}}),r("common:bdbox/android/invokeApp",function(e,n,i,r){function o(e,n,i){if(i&&!r.isArray(i)&&(i=Array.prototype.slice.call(arguments,0).slice(2)),t[e]&&t[e][n]){var o=t[e][n].apply(t[e],i);return{error:0,result:o,__from:"js"}}var c=u();if(s(c,4.8)>=0){var l=a(e,n,i);return l=l?JSON.parse(l):{},l.__from="app",l}if("4.7.1"===c||"4.7"==c){var f=a(e,n,i);return{error:0,result:f,__from:"app4.7"}}return{error:200}}function a(e,n,i){if(!r.isBox)return{error:201};if(!r.isAndroid)return{error:202};var o={obj:e,func:n,args:i?i:[]};try{return t.prompt("BdboxApp:"+JSON.stringify(o))}catch(a){return{error:201}}}var s=e("common:bdbox/utils/version_compare"),u=e("common:bdbox/utils/getVersion");i.exports=o}),r("common:bdbox/utils/detect",function(e,n,i,r){function o(e){var n={name:"unknown",version:0};this===t||this.os||(this.os=n),e=e||navigator.userAgent;var i={Weibo:/weibo/i,Wechat:/micromessenger\//i,QQ:/QQ\//};for(var r in i)i.hasOwnProperty(r)&&(n["is"+r]=i[r].test(e));n.isUC=e.match(/UC/)||t.ucweb||t.ucbrowser;var o=e.match(/(Android);?\s+([\d.]+)?/);if(o)return n.android=!0,n.version=o[2],n.name="android",n;var a=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),u=!a&&e.match(/(iPhone\sOS)\s([\d_]+)/);return u&&!s?(n.ios=n.iphone=!0,n.version=u[2].replace(/_/g,"."),n.name="ios",n):a?(n.ios=n.ipad=!0,n.name="ios",n.version=a[2].replace(/_/g,"."),n):s?(n.name="ios",n.ios=n.ipod=!0,n.version=s[3]?s[3].replace(/_/g,"."):null,n):n}o.apply(r),i.exports=o}),r("common:bdbox/each",function(t,e,n){function i(t){var e;return null==t?e=String(t):(e=Object.prototype.toString.call(t).toLowerCase(),e=e.substring(8,e.length-1)),e}n.exports=function(t,e,n){if("object"==typeof t){var r,o,a=i(t);if(n=n||t,"array"===a||"arguments"===a||"nodelist"===a){for(r=0,o=t.length;o>r;r++)if(e.call(n,t[r],r,t)===!1)return}else for(r in t)if(t.hasOwnProperty(r)&&e.call(n,t[r],r,t)===!1)return}}}),r("common:bdbox/client/nativeShare",function(n,i,r,o){function a(e){var n={wechatIcon:location.protocol+"//m.baidu.com/static/search/logo300.png",type:"url",mediaType:"all",linkUrl:location.href,title:u.title,success:"console.log",error:"console.log"};each(e||{},function(t,e){n[e]=t}),n.image&&(n.imageUrl=n.image),n.iconUrl&&!n.imageUrl&&"url"===n.type&&(n.imageUrl=n.iconUrl);var i={};["success","error"].forEach(function(e){var r=e;o.isFunction(n[e])&&(r="_xSHARE_SUCCESS_"+o.getId(),t[r]=n[e]),i[e+"callback"]=r,delete n[e]}),i.options=n,i.options.imageUrl&&o.isAndroid&&s(o.version,"6.5")<0&&delete i.options.imageUrl,t.BoxShareData=i;var r=n.wechatIcon;if(/micromessenger\//i.test(navigator.userAgent)&&r&&r.length>20){var a=u.createElement("div");a.id="wa-generalevent-wx-logo",a.style.display="none",a.innerHTML='<img src="'+r+'"/>';var c=u.body.firstChild;c?u.body.insertBefore(a,c):u.body.appendChild(a)}}var s=n("common:bdbox/utils/version_compare"),u=e;r.exports=a}),r("common:bdbox/utils/ready",function(t,n,i){function r(){a.forEach(function(t){t()}),a.length=0,s=!0}function o(t){"function"==typeof t&&(s?t():a.push(t))}var a=[],s=!1;"complete,loaded,interactive".indexOf(e.readyState)>-1&&e.body?r():e.addEventListener("DOMContentLoaded",r,!1),i.exports=o}),f.version=f.utils.getVersion(),f.version_compare=f.utils.version_compare,each=f.each,f.nativeShare=f.client.nativeShare,f.type=a,f.canI=function(t,e,n){return f.version_compare(f.version,t)>=0?f.isFunction(e)&&e():f.isFunction(n)&&n(),f},r("common:bdbox/client/o2o",function(t,e,n,i){var r=t("common:bdbox/android/invokeApp"),o=t("common:bdbox/ios/invokeApp"),a=encodeURIComponent,s=t("common:bdbox/each"),u=i.isAndroid?function(t,e){i.isObject(t)&&(e=t,t=t.url,delete e.url);var n=["S.bdsb_light_start_url="+a(t)];if(i.isObject(e)){var o={color:"i.extra_actionbar_color_id",appid:"S.bdsb_wallet_appid"};s(e,function(t,e){"color"===e&&(t=4278190080|parseInt("0x"+t)),e=o[e]||e,n.push(e+"="+t)})}n=n.join(";"),r("Bdbox_android_utils","command",[JSON.stringify({intent:"intent:#Intent;"+n+";end","class":"com.baidu.searchbox.wallet.WalletServiceActivity",min_v:"16783629",mode:"0"})])}:function(t,e){i.isObject(t)&&(e=t,t=t.url,delete e.url);var n={openurl:a(t),minver:"5.3.0.0",isla:0,opentype:1,append:0,rbtnstyle:2};if(i.isObject(e)){var r={color:"barcolor"};s(e,function(t,e){e=r[e]||e,n[e]=t})}n.appid&&(n.isla=1),o("easybrowse",n)};n.exports=u}),f.o2o=f.client.o2o,"android"===f.os.name?d("card",{query:function(t,e){if(d.version_compare(d.version,"5.0")<0)return this;var n,i;d.isArray(t)?n=[JSON.stringify(t)]:(i=d.toArray(arguments),e=i.pop(),d.isFunction(e)?n=i:(n=d.toArray(arguments),e=null),n=[JSON.stringify(n)]);var r=d.android.invokeApp("Bdbox_android_card","mquery",n);return r=0===r.error&&r.result?JSON.parse(r.result):!1,d.isFunction(e)&&e(r),r},add:function(e,n){if(d.version_compare(d.version,"5.0")<0)return this;var i,r;d.isString(e)?i=[e]:d.isArray(e)?i=[JSON.stringify(e)]:(r=d.toArray(arguments),n=r.pop(),d.isFunction(n)?i=r:(i=d.toArray(arguments),n=null),i=[JSON.stringify(i)]);var o=null;if(d.version_compare(d.version,"5.5")>=0){var a="";d.isFunction(n)&&(a="__box_card_"+d.getId(),t[a]=function(t){var e=JSON.parse(t),i=!1;for(var r in e){i=e[r].st;break}n(i)}),o=d.android.invokeApp("Bdbox_android_card","madd",i.concat([a,0]))}else o=d.android.invokeApp("Bdbox_android_card","madd",i);return o}}):d("card",{query:function(t,e){if(d.version_compare(d.version,"5.0")<0)return this;var n,i;d.isArray(t)?n=[JSON.stringify(t)]:(i=d.toArray(arguments),e=i.pop(),d.isFunction(e)?n=i:(n=d.toArray(arguments),e=null),n=[JSON.stringify(n)]);var r=function(t){d.isFunction(e)&&e(JSON.parse(t)),r=null};d.ios.invokeApp("cardMquery",{params:encodeURIComponent(n)},r)},add:function(t,e){if(d.version_compare(d.version,"5.0")<0)return this;var n,i;d.isString(t)?n=[t]:d.isArray(t)?n=[JSON.stringify(t)]:(i=d.toArray(arguments),e=i.pop(),d.isFunction(e)?n=i:(n=d.toArray(arguments),e=null),n=[JSON.stringify(n)]);var r=function(t){var n=JSON.parse(t),i=!1;for(var o in n){i=n[o].st;break}d.isFunction(e)&&e(i),r=null};return d.ios.invokeApp("cardMadd",{params:encodeURIComponent(n),gohome:"0"},r),!0}}),r("common:bdbox/utils/jsonToQuery",function(t,e,n,i){n.exports=function(t){if(i.isString(t))return t;var e=[];for(var n in t)e.push(n+"="+t[n]);return e.join("&")}}),r("common:bdbox/io/loadJS",function(n,i,r,o){function a(n,i,r){var a,c,l,f=e.createElement("script");o.isString(n)?(a=n,o.isFunction(i)&&(r=i,i=null)):(a=n.url,i=n.data,r=n.success,c=n.error||o.emptyFn,l=n.timeout),o.isObject(i)&&(i=u(i)),i&&(a+=(-1===a.indexOf("?")?"?":"&")+i),a=a.replace(/[&?]{1,2}/,"?");var p;/=\?/.test(a)&&(p="_box_jsonp"+o.getId(),a=a.replace(/=\?/,"="+p));var d=s();l=l||2e4,f.type="text/javascript",f.src=a;var h,m=!0,v=function(){p&&delete t[p],h&&clearTimeout(h),f.onload=f.onreadystatechange=f.onerror=null,f=null},g=function(){!f||f.readyState&&!/loaded|complete/.test(f.readyState)||(v(),m&&o.isFunction(r)&&r.apply(null,o.toArray(arguments)),m=!1)},y=function(t){v(),m&&c(t),m=!1};p&&(t[p]=g),h=setTimeout(function(){v(),m&&c("timeout"),m=!1},l),f.onload=f.onreadystatechange=f.onerror=g,f.onerror=y,d.appendChild(f)}function s(){return e.head||e.getElementsByTagName("head")[0]||e.documentElement}var u=n("common:bdbox/utils/jsonToQuery");o.emptyFn,r.exports=a}),r("common:bdbox/utils/queryToJson",function(t,e,n){n.exports=function(t){try{t=t?decodeURIComponent(t):""}catch(e){t=""}var n=t.split("?"),i=n[1]?n[1]:n[0],r=i.split("&"),o={};return r.forEach(function(t){t=t.split("="),t[0].length>0&&(o[t[0]]=t[1]||"")}),o}}),r("common:bdbox/extend",function(t,e,n,i){function r(t,e,n){for(var i in e)n&&(o(e[i])||a(e[i]))?(o(e[i])&&!o(t[i])&&(t[i]={}),a(e[i])&&!a(t[i])&&(t[i]=[]),r(t[i],e[i],n)):u(e[i])||(t[i]=e[i])}var o=i.isPlainObject,a=i.isArray,s=i.isBoolean,u=i.isUndefined;n.exports=function(t){var e,n=i.emptyArr.slice.call(arguments,1);return s(t)&&(e=t,t=n.shift()),n.forEach(function(n){r(t,n,e)}),t}}),r("common:bdbox/utils/ready",function(t,n,i){function r(){a.forEach(function(t){t()}),a.length=0,s=!0}function o(t){"function"==typeof t&&(s?t():a.push(t))}var a=[],s=!1;"complete,loaded,interactive".indexOf(e.readyState)>-1&&e.body?r():e.addEventListener("DOMContentLoaded",r,!1),i.exports=o}),r("common:bdbox/utils/detect",function(e,n,i,r){function o(e){var n={name:"unknown",version:0};this===t||this.os||(this.os=n),e=e||navigator.userAgent;var i={Weibo:/weibo/i,Wechat:/micromessenger\//i,QQ:/QQ\//};for(var r in i)i.hasOwnProperty(r)&&(n["is"+r]=i[r].test(e));n.isUC=e.match(/UC/)||t.ucweb||t.ucbrowser;var o=e.match(/(Android);?\s+([\d.]+)?/);if(o)return n.android=!0,n.version=o[2],n.name="android",n;var a=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),u=!a&&e.match(/(iPhone\sOS)\s([\d_]+)/);return u&&!s?(n.ios=n.iphone=!0,n.version=u[2].replace(/_/g,"."),n.name="ios",n):a?(n.ios=n.ipad=!0,n.name="ios",n.version=a[2].replace(/_/g,"."),n):s?(n.name="ios",n.ios=n.ipod=!0,n.version=s[3]?s[3].replace(/_/g,"."):null,n):n}o.apply(r),i.exports=o}),r("common:bdbox/schema",function(t,n,i,r){function o(t,n){if(!t)return void n(!0);if(n=n||r.emptyFn,!r.isBox&&r.isIOS&&u(s.version,"9.0")>=0)return void c(function(){a(t,n)});var i=Date.now(),o=e.createElement("IFRAME");o.src=t,o.style.position="absolute",o.style.left="-2000px",o.style.top="-1000px",o.style.width="1px",o.style.height="1px",o.style.webkitTransition="all 0.9s",o.style.transition="all 0.9s",e.body.appendChild(o);var l=function(){e.body.removeChild(o),n(Date.now()-i<1500?!0:!1)};o.addEventListener("webkitTransitionEnd",l,!1),o.addEventListener("transitionEnd",l,!1),setTimeout(function(){o.style.left="-1000px"},20)}function a(t,e){location.href=t,l&&clearTimeout(l),l=setTimeout(function(){e(!0)},3e3)}var s=t("common:bdbox/utils/detect")(),u=t("common:bdbox/utils/version_compare"),c=t("common:bdbox/utils/ready"),l=null;i.exports=o}),r("common:bdbox/monitor",function(e,n,i,r){var o=encodeURIComponent,a=function(t,e){t+=t.indexOf("?")<0?"?":"&",this.url=t,this.options=e};a.prototype.report=function(e){e=e||"";var n=new Image(1,1),i=[];if(r.isObject(e)){for(var a in e)i.push(a+"="+o(String(e[a])));e=i.join("&")}var s="_box_mt"+r.getId();t[s]=n,n.onload=n.onerror=n.onabort=function(){n.onload=n.onerror=n.onabort=null,t[s]=n=null};var u=this.url+e;return r.isFunction(this.options.customHandler)&&(u=this.options.customHandler(u)),n.src=u+"&_rnd="+Math.floor(2147483648*Math.random()),this},a.prototype.main=function(t,e){return t&&r.isFunction(this[t])&&this[t].apply(this,r.toArray(e||[])),this},i.exports=function(t,e){return new a(t,e)}}),r("common:bdbox/clone",function(t,e,n){var i=Object.prototype.toString,r=function(t,e,n){var i=0;for(var r in t)if(t.hasOwnProperty(r))if(n)e[r]=t[r];else if(e(r,t[r],i++))break},o=function(t){var e;switch(i.call(t)){case"[object Object]":e={},r(t,function(t,n){e[t]=o(n)});break;case"[object Array]":e=[],t.forEach(function(t){e.push(o(t))});break;default:e=t}return e};n.exports=o}),r("common:bdbox/monitor/pblog",function(t,e,n,i){var r=t("common:bdbox/monitor"),o=t("common:bdbox/extend"),a=t("common:bdbox/utils/queryToJson"),s=t("common:bdbox/utils/getVersion"),u=t("common:bdbox/clone"),c=a(location.search),l=navigator.userAgent,f="//m.baidu.com/tcbox",p={service:"bdbox",action:"pblog",ctv:2,cen:"uid_ua_ut",data:{appid:"1",dataid:"2",actiontype:"1",actionid:"2",actiondata:{ref:c.ref||"",gmv:c.vmgdb||"",source:c.from||c.ref||"",boxVersion:s(),boxPlatform:l.match(/(iPad|iPhone|iPod)/gim)?"ios":"android"}}},d=encodeURIComponent;c.uid&&c.osname&&["osname","ua","ut","from","cfrom","uid","pkgname"].forEach(function(t){c[t]&&(p[t]=c[t])});var h,m=r(f,{customHandler:function(t){var e=[];if(h)for(var n in h)if(h.hasOwnProperty(n)){var r=h[n];i.isPlainObject(r)&&(r=JSON.stringify(r)),e.push(n+"="+d(r))}return e.length&&(t+=e.join("&")),t}});m.init=function(t,e){i.isPlainObject(e)&&(p=o(p,e)),p.data.cateid=t},m.pv=function(t,e){h=u(p);var n=h.data;n.actionid="1";var i={};return i.url=t||location.href,e&&(i.u=e),n.actiondata=o(n.actiondata,i),m.report()},m.event=function(t,e,n){if(!t)throw"monitor.tc.event need a evtName";if(i.isPlainObject(e)&&!n){var r={evtName:t};for(var a in e)r[a]=e[a]}else var r={evtName:t,evtType:e||"",evtTag:n||""};h=u(p);var s=h.data;return s.actionid="2",s.actiondata=o(s.actiondata,r),m.report()},n.exports=function(){m.main.apply(m,arguments)}}),r("common:bdbox/moplus",function(t,e,n,i){var r=t("common:bdbox/utils/jsonToQuery"),o=t("common:bdbox/io/loadJS"),a=t("common:bdbox/utils/version_compare"),s=t("common:bdbox/monitor/pblog"),u=t("common:bdbox/schema"),c="com.baidu.searchbox",l="http://127.0.0.1:6259/",f="http://127.0.0.1:40310/",p="inapp_boxserver",d="https:"===location.protocol,h=500,m=null,v="__moplus_host__",g={isSendPv:!1,isHit:!1,parseUA:function(){var t,e,n=navigator.userAgent,i={uc:/UCBrowser\/(\S*) \S*/g,bd:/baidubrowser\/(\S*) \(Baidu/g,qq:/MQQBrowser\/(\S*) Mobile/g,chr:/Chrome\/(\S*) Mobile/g,qh:/360 Aphone Browser \((\S*)\)/g,sg:/SogouMobileBrowser\/(\S*)/g,mi:/MiuiBrowser\/(\S*)/g};for(var r in i){var o=i[r].exec(n);if(o){t=r,e=o[1];break}}return t=t?t:"other",e=e?e:"0",{t:t,v:e}},parseHost:function(){return y.curHost===f?1:0},sendEvt:function(t,e,n,i){this.isHit&&this.send(t,e,n,i)},send:function(t,e,n,i){var r=this.parseUA(),o=r.t,a=r.v,u=d?0:1,c=this.parseHost();s("event",[t,{evtType:e||"",brName:o,brVer:a,isHttp:u,isNew:c,source:n||"",intent:i||""}])},init:function(){this.isHit=Date.now()%100===1,s("init",[2])}},y=function(t,e,n){this.version="2.0",this.isHttps=d,this.curHost=n||"",this.newHost=f,this.oldHost=this.isHttps?f:l,this.MCMDF=e||p,this._infoFuncs=[],this._verFuncs=[],this.minVersion=t?t:0,this.pkgName=c,g.init()},b=function(t,e){try{sessionStorage.setItem(t,e)}catch(n){}},w=function(t){var e;try{e=sessionStorage.getItem(t)}catch(n){}return e};y.prototype={constructor:y,setMcmdf:function(t){return this.MCMDF=t,this},setHost:function(t){return this.curHost=t,b(v,t),this},getHost:function(){if(this.isHttps)return this.curHost=this.newHost,this.newHost;var t=w(v);return t?(this.curHost=t,this.curHost):void 0},api:function(t,e,n,o){if(!t)throw"Moplus.api need an action";i.isFunction(e)&&(o=n,n=e,e={});var a=t+(~t.indexOf("?")?"&":"?")+r(e);return~a.indexOf("mcmdf")||(a+="&mcmdf="+this.MCMDF),g.sendEvt("api","send:"+t,this.MCMDF,a),this.request(a,function(e){g.sendEvt("api",(i.isPlainObject(e)&&0==e.error?"success:":"fail:")+t,this.MCMDF,a),n(e)},o)},getInfo:function(t,e){if(m)return t(m);if(this._infoFuncs.push(t),!(this._infoFuncs.length>1)){var n=this,r=function(t,e){!e&&i.isPlainObject(t)&&(m=t);var r;for(e&&(t={error:33});r=n._infoFuncs.shift();)r(t)},a="getsearchboxinfo?mcmdf="+this.MCMDF;if(this.getHost()){var s={url:this.curHost+a+"&callback=?",success:r,error:function(){r(null,!0)},timeout:e};o(s)}else this.request(a,function(t){return 33===t.error?r(null,!0):void r(t)},e);return this}},getHVersion:function(t,e){this._verFuncs.push(t);var n=this;if(!(this._verFuncs.length>1)){var i=function(t){var e;for(t=n.parseInfo(t);e=n._verFuncs.shift();)e(t)};return this.getInfo(i,e),this}},parseInfo:function(t,e){t=t||m,e=e||this.minVersion;var n=t.package_infos;if(!n||0===n.length)return!1;var i=c,r={offic:{name:c,version:0},oem:{version:0}};return n.forEach(function(t){var n=t.version_name,o=t.package_name;a(n,e)>=0&&(o===i?1===a(n,r.offic.version)&&(r.offic={version:n,name:c}):1===a(n,r.oem.version)&&(r.oem={version:n,name:o}))}),0===r.oem.version&&0===r.offic.version?!1:0!==r.offic.version?r.offic:0!==r.oem.version?r.oem:void 0},schema:function(t,e){if(!t.intent)throw"schema intent is empty";t.mcmdf||(t.mcmdf=this.MCMDF);var n=function(){g.sendEvt("schema","success",t.source,t.intent),i.isFunction(e)&&e({error:0,from:"schema"})},r=function(){g.sendEvt("schema","fail",t.source,t.intent),i.isFunction(e)&&e({error:20,from:"schema"})},o=t.schema||"";if(t.intent&&!t.schema){var a=t.intent;-1==a.indexOf(c)&&(g.sendEvt("defaultPKGName","fail",t.source||"",t.intent),t.minver=t.minver?t.minver:"6.9.1")}o||(o="baiduboxapp://utils?action=sendIntent&params="+encodeURIComponent(JSON.stringify(t))+"&minver="+(t.minver?t.minver:"6.9")),u(o,function(t){t?r():n()})},sendIntent:function(t,e,n){var r={};if(t&&i.isString(t)){var o,a=this,s=!0;return i.isPlainObject(n)?(r=n,o=n.source||"",n.needlog?g.isHit=n.needlog:r.needlog=g.isHit?1:0,n=n.timeout):i.isBoolean(n)&&(s=n),r.intent=t,g.sendEvt("sendintent","send",o,t),this.api("sendintent",{intent:encodeURIComponent(t)},function(n){!n||n&&33===n.error||!i.isPlainObject(n)?(g.sendEvt("sendintent","fail",o,t),s?a.schema(r,e):(n=n||{},n.from="moplus",e(n))):(g.sendEvt("sendintent","success",o,t),e(n))},n)}return this},request:function(t,e,n){var r,a,s=this,u={timeout:n};i.isFunction(e)&&!~t.indexOf("callback=")&&(t+="&callback=?");var c=function(t){r="success",i.isFunction(e)&&e(t)},l=function(){i.isFunction(e)&&e({error:33})};if(s.getHost())u.url=s.curHost+t,u.success=c,u.error=l,o(u);else if(u.url=s.newHost+t,u.success=function(t){"success"!==r&&(a&&clearTimeout(a),s.setHost(s.newHost),c(t))},u.error=function(){s.isHttps?(r="error",l()):"error"===r&&l(),r="error"},o(u),!s.isHttps){var f={timeout:n,url:s.oldHost+t,error:u.error};f.success=function(t){"success"!==r&&("error"===r?(s.setHost(s.oldHost),c(t)):a=setTimeout(function(){s.setHost(s.oldHost),c(t)},h))},o(f)}return this}},n.exports=function(t,e){return new y(t,e)},n.exports.Moplus=y}),f.version_compare(f.version,"5.3.5")>=0){var v,g={image:"imageUrl",url:"linkUrl",order:"mediaType"},y="";t[y]=f.emptyFn,f.isAndroid?(v=function(t){if(t.id&&f.byId(t.id)){var e=t.eventType||"touchstart";f.byId(t.id).addEventListener(e,function(){n(t)},!0)}var n=function(e){e=s(e||t);var n=e.error,i=e.success;e.iconUrl&&e.imageUrl&&delete e.imageUrl,f.android.invokeApp("Bdbox_android_utils","callShare",[JSON.stringify(e),i||"console.log",n||"console.log"])};return n},d("share",v)):(v=function(t){if(t.id&&f.byId(t.id)){var e=t.eventType||"touchstart";f.byId(t.id).addEventListener(e,function(){n(t)},!0)}var n=function(e){e=s(e||t);var n=e.error,i=e.success;e.iconUrl&&!e.imageUrl&&(e.imageUrl=e.iconUrl),e=JSON.stringify(e),f.ios.invokeApp("callShare",{options:encodeURIComponent(e),errorcallback:n||"console.log",successcallback:i||"console.log"})};return n},d("share",v))}else{var b=[],w=function(){d._socShare&&d._socShare.init?b.forEach(function(t){d._socShare.init(t)}):setTimeout(w,3e3)};f.io.loadJS("//m.baidu.com/static/searchbox/openjs/share.js?v=1.2",w);var x={source:"client_id",id:"dom_id",image:"pic_url",success:"afterRender"},v=function(t){var e={content:"",client_id:"ZVEpDSsmZ0qxa1gmgDAh1Fje",theme:"native",dom_id:"share",animate:!0,pic_url:"",url:encodeURIComponent(location.href)};return f.isObject(t)&&f.each(t,function(t,n){if(n in x&&(n=x[n]),"order"===n&&f.isArray(t)){var i=[];t.forEach(function(t){"email"===t&&(t="mail"),i.push(t)})}e[n]=t}),delete e.success,delete e.error,delete e.afterRender,"all"===e.order?e.order=["qqdenglu","sinaweibo","renren","kaixin","mail","sms"]:f.isString(e.order)&&(e.order=e.order.split(",")),d._socShare&&d._socShare.init?d._socShare.init(e):b.push(e),function(){d._socShare.ui._shareBtnClickHandler()}};d("share",v)}if(r("common:bdbox/distribute",function(t,e,n,i){var r=t("common:bdbox/schema");t("common:bdbox/utils/detect");var o=t("common:bdbox/each"),a=t("common:bdbox/moplus"),s=i.emptyFn,u={qqDownloadUrl:"http://a.app.qq.com/o/simple.jsp?pkgname=com.baidu.searchbox",androidDownloadUrl:"",iosDownloadUrl:"",iosFailCallback:s,androidFailCallback:s,iosSchema:"",androidSchema:"",androidIntent:"",inBoxCallback:s},c=function(t){var e=this;t&&o(u,function(e,n){t[n]=t[n]||e});var n=this.url=t.url;n&&""!==n?(this.androidIntent="intent://"+n.replace(/^http[s]?:\/\//,"")+"#Intent;scheme=http;action=com.baidu.searchbox.action.VIEW;category=android.intent.category.DEFAULT;end",this.iosSchema="baiduboxapp://easybrowse?openurl="+encodeURIComponent(n)+"&opentype=0&isla=0&append=0&minver=5.3.0.0"):["androidIntent","iosSchema","androidSchema"].forEach(function(n){e[n]=t[n]}),this.options=t,this.fail=function(){if(console.log(i.os.name+" fail"),i.isFunction(t[i.os.name+"FailCallback"])){var e=t[i.os.name+"FailCallback"]();if(i.isBoolean(e)&&!e)return}var n=t[i.os.name+"DownloadUrl"];n&&""!==n&&(location.href=t[i.os.name+"DownloadUrl"])},this.success=function(){return console.log(i.os.name+" success"),i.isFunction(t[i.os.name+"SuccessCallback"])?t[i.os.name+"SuccessCallback"]():void 0}};c.prototype.wechat=function(){var t=this.options;if(i.isFunction(t.wechatCallback)){var e=t.wechatCallback();if(i.isBoolean(e)&&!e)return}t.qqDownloadUrl&&""!==t.qqDownloadUrl&&(location.href=t.qqDownloadUrl)},c.prototype.run=function(){var t=this,e=(t.url,t.options);return i.os.isWechat?t.wechat():i.isBox&&i.isFunction(e.inBoxCallback)?e.inBoxCallback():void this.invoke()},c.prototype.invoke=function(){var t=this;if(i.os.android){var e=a();e.getHVersion(function(n){n?e.sendIntent(t.androidIntent,function(e){0==e.error?t.success():t.fail()},1e3):t.androidSchema?r(t.androidSchema,function(e){e?t.fail():t.success()}):t.fail()})}else r(t.iosSchema,function(e){e?t.fail():t.success()})},n.exports=function(t){return new c(t)}}),each(f,function(t,e){d[e]=t}),t.Box&&t.Box.$)for(var E in d)t.Box[E]=t.Box[E]||d[E];else t.Box=d}(window,document),define("builtins/mip-video",["util","zepto","customElement","builtins/video/player"],function(){var t,e=require("zepto"),n=require("customElement").create(),i=require("builtins/video/player"),r=function(){function n(){var t=this.getAttribute("poster"),e=this.getAttribute("src"),n=this.getAttribute("adInfo"),i=this.getAttribute("title")||"视频",r=[];if(n)try{r=new Function("return "+n)()}catch(o){}var a,s=navigator.userAgent.toLowerCase();if(s.indexOf("like mac os x")>0){var u=/os [\d._]*/gi,c=s.match(u);a=(c+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")}var l=a+"";return"undefined"!=l&&l.length>0&&(a=a.substring(0,1)),8>a&&(r=[]),{poster:t,src:e,adInfo:r,title:i}}function r(t){function e(t){return/^https\:/i.test(t)}var n,i=0==t.indexOf("/")?!0:!1;return n=e(i?location.href.protocol:t)}function o(){var t=r(y.src),e=y.adInfo.every(function(t){return r(t[0].src)});y.nowpage=e&&t?!0:!1}function a(){var t={},e=navigator.userAgent,n=e.indexOf("baiduboxapp")>0?!0:!1;return n&&(t.version=Number(parseFloat(Box.version)),t.baiduboxapp=n),t}function s(){var t=navigator.userAgent,e=t.indexOf("Android")>-1||t.indexOf("Adr")>-1,n=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return e?"Android":n?"iOS":"other"}function u(){e(this).on("click",function(n){if("video"==n.target.tagName.toLocaleLowerCase())return n.stopPropagation(),!1;t&&t.remove(),t=new i({});var r=g.attr("container");r=r&&e(r)&&e(r).length?e(r):v;var o=[],a=g.attr("adInfo");if(a)try{o=new Function("return "+a)()}catch(s){}var u,c=navigator.userAgent,l=c.indexOf("QQ")>0?!0:!1,f=!!c.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),p=navigator.userAgent.toLowerCase();if(p.indexOf("like mac os x")>0){var d=/os [\d._]*/gi,h=p.match(d);u=(h+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")}var m=u+"";"undefined"!=m&&m.length>0&&(u=u.substring(0,1)),(l&&f||8>u)&&(o=[]);var y=g.find("source"),b=[];y.each(function(){var t=e(this).attr("src"),n=e(this).attr("type");t&&b.push({type:n,src:t})}),t.render({container:r,height:g.attr("height"),width:g.attr("width"),src:g.attr("src"),type:g.attr("type"),poster:g.attr("poster"),autoplay:g.attr("autoplay"),controls:g.attr("controls"),loop:g.attr("loop"),muted:g.attr("muted"),android:{playMode:g.attr("android-mode")||""},ios:{playMode:g.attr("ios-mode")||""},adInfo:o,playInfo:b})})}function c(){var e=n.call(this),r=a();if(t&&t.remove(),t=new i({}),r.baiduboxapp)if("Android"==s())if(r.version>"6.4"){var o=f(e,!0);Box.android.invokeApp("Bdbox_android_capi_video","playVideo",[o])}else l(e);else if("iOS"==s())if(r.version>"6.8"){var o=f(e);Box.ios.invokeApp("video",{action:"playVideo",params:o,minver:"6.8.0.0"},"")}else l(e);else l(e);else l(e)}function l(t){var e=p(t);top.location.href=e+"&title="+encodeURIComponent(t.title)}function f(t,e){var n=p(t)+"&tn=nohead",i=e?n:encodeURIComponent(n),r={vid:+new Date,title:encodeURIComponent(t.title),src:i,cate:"tvplay",pageUrl:location.herf,type:"other"};return jsonString=JSON.stringify(r)}function p(t){var e="http://transcoder.baidu.com/sf?pd=mms_mipvideo&dev_tpl=act_mip_video&wd=%E8%A7%86%E9%A2%91&actname=act_mip_video",n=[];t.adInfo.map(function(t){n.push(encodeURIComponent(t[0].src))});var i="&poster="+encodeURIComponent(t.poster)+"&src="+encodeURIComponent(t.src)+"&ad=";return endgeturl=e+i+n}var d=this.element,h=this;if(!d.isRender){d.isRender=!0;var m=e(d).children().not("mip-i-space");m.map(function(t,e){"mip-img"==e.tagName.toLocaleLowerCase()&&h.applyFillContent(e,!0)}),this.applyFillContent(d,!0);var v=d,g=e(d),y={};y=n.call(d,y),o(),y.nowpage?u.call(d):(_this=v,e(_this).on("click",function(){c.call(_this)}))}};return n.prototype.init=function(){this.build=r},n}),define("builtins/video/player",["require","zepto"],function(t){function e(t){this.params=n.extend(!0,{container:null,height:null,width:null,src:null,type:null,poster:null,autoplay:null,controls:null,loop:null,muted:null,ios:{playMode:!1},android:{playMode:!1},adInfo:[],playInfo:[]},t),this.box={normal:n('<div class="mip-video-box"></div>'),hide:n('<div class="mip-video-box-ios"></div>')},this.adIdx=0,this.lastTime=0,this.eventNS=".mipvideo",this.init(),this.bindEvents()}var n=t("zepto");return e.prototype={constructor:e,tplSource:["<% for (var i = 0, len = data.length; i < len; i++) { var item = data[i]; %>",'<source <%=(item.type ? "type=" + item.type : "")%> src="<%=item.src%>"></source>',"<% } %>"].join(""),tmpl:function(){var t={},e=function n(e,i){var r=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)’/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[e]=t[e]||n(document.getElementById(e).innerHTML);return i?r(i):r};return e}(),init:function(){var t=this;t.$video=n('<video autoplay="autoplay"></video>'),t.video=t.$video[0],t.video.className="mip-video-player",t.isWorking=!1},initParams:function(){var t=this;t.lastTime=0},render:function(t){var e=this;this.options=n.extend({},e.params,t),e.setAttrs(),e.loadSource(),e.appendVideo(),e.play(),e.isWorking=!0},setAttrs:function(){var t=this,e=t.options;t.setAttr("width",e.width),t.setAttr("height",e.height),t.setAttr("poster",e.poster),t.setAttr("autoplay",e.autoplay),t.setAttr("controls",e.controls),t.setAttr("loop",e.loop),t.setAttr("muted",e.muted)
},setAttr:function(t,e){var n=this,i=n.$video;e||0===e||""===e?i.attr(t,e):i.removeAttr(t)},appendVideo:function(){var t=this,e=t.$video,i=t.options,r=n(i.container);if(r.length){if(t.isIos()&&i.ios&&"hide"===i.ios.playMode){var o=t.box.hide.html(e);return void r.append(o)}return!t.isIos()&&i.android&&"fullscreen"===i.android.playMode?void t.fullscreenForAndriod():void r.append(this.box.normal.html(e))}},play:function(){var t=this,e=/(iphone.+mqqbrowser)|(android.*(baidubrowser)|(baiduboxapp))/i;navigator.userAgent.match(e)?setTimeout(function(){t.video.play()},30):t.video.play()},load:function(){this.video.load()},loadSource:function(){var t=this,e=t.options;t.video,t.initParams(),t.removeEventsForAD(),t.hasAd(e)?t.playForAD(e):t.playForNormal(e),t.load()},playForNormal:function(){var t=this,e=t.options,n=e.playInfo;t.video,n&&n.length||(n=[],n[0]={type:e.type,src:e.src}),t.appendSource(n)},playForAD:function(){var t=this,e=t.options,n=e.adInfo;t.video,t.hasAd(e)&&(t.appendSource(n[t.adIdx]),t.adIdx++,t.eventsForAD())},eventsForAD:function(){var t=this,e=t.eventNS+"forad",n=t.video;t.removeEventsForAD(),t.$video.on("timeupdate"+e,function(){var e=Math.ceil(n.currentTime),i=t.getVideoTime();return e-t.lastTime>2?(n.currentTime=t.lastTime,t.lastTime=t.lastTime,void t.play()):(t.lastTime=e,void(i&&e>=i&&(t.loadSource(),t.play())))})},removeEventsForAD:function(){var t=this,e=t.eventNS+"forad";t.$video.off("timeupdate"+e)},hasAd:function(){var t=this,e=t.options,n=e.adInfo;return!n||!n.length||t.adIdx>=n.length?!1:!0},appendSource:function(t){var e=this,n=e.$video,i=this.tmpl(this.tplSource,{data:t});i&&n.html(i)},isIos:function(){return/iPhone|iPad|iPod/i.test(window.navigator.userAgent)},bindEvents:function(){var t=this;t.$video.on("canplay",function(){t.video.play()})},fullscreenForAndriod:function(){var e=this,i=e.$video,r=e.options,o=e.eventNS+"fullscreen";t(["builtins/video/popup"],function(t){var a=new t({title:r.title||"",content:"",fullView:!0,customClassName:"mip-video-player-popup",onOpen:function(){a.$popupContent.html(i),e.setVideoCenterForFullscreen()},onClose:function(){n(window).off("orientationchange"+o),e.initStyle()}}),s=n(".mip-video-player-popup .mip-video-popup-remove");s.length&&s.off("click"+o).on("click"+o,function(){a.$popupContent.length&&a.$popupContent.html("")})})},initStyle:function(){var t=this,e=t.$video;e.removeAttr("style")},setVideoCenterForFullscreen:function(){var t=this,e=t.eventNS+"fullscreen",i=0,r=n(".mip-video-player-popup .mip-video-popup-remove");r.length&&(i=r.height()+r.offset().top),n(window).off("orientationchange"+e+" resize"+e).on("orientationchange"+e+" resize"+e,function(){t.calculateVideo({freesize:i})}),t.calculateVideo({freesize:i})},calculateVideo:function(t){var e=this,i=e.$video,t=t||{};e.initStyle(),setTimeout(function(){var e=n(window).height(),r=n(window).width(),o=t.freesize||0,a=i.height();r>=e&&(a=e-2*o),i.css({height:a+"px","margin-top":-a/2+"px",visibility:"visible"})},10)},pause:function(){this.video.pause()},remove:function(){this.$video.parent().remove(),this.isWorking=!1},getVideoTime:function(){return Math.ceil(this.video.duration)},on:function(t,e){this.$video.on(t,e)},off:function(t,e){this.$video.off(t,e)},trigger:function(t){this.$video.trigger(t)}},e}),define("builtins/video/popup",["require","zepto"],function(t){var e=t("zepto"),n=function(t){var n=this;n.options=e.extend({title:"",content:"",fullView:!1,duration:400,customClassName:"",onOpen:function(){},onClose:function(){}},t),n._init()};return n.prototype={constructor:n,version:"0.0.1",_init:function(){var t=this;t._preparePopupWrapper(),t._stopScroll(),t.popup()},_preparePopupWrapper:function(){var t=this,n=e(".mip-video-popup-wrapper");n.length?(t.$popupFrame=n,t.$popupFrame.empty()):(t.$popupFrame=e('<div class="mip-video-popup-wrapper"></div>'),e(document.body).append(t.$popupFrame))},_stopScroll:function(){var t=this;t.$popupFrame.on("touchmove",function(t){t.preventDefault()})},_bindEvent:function(){var t=this;t.$popupFrame.on("click",".mip-video-popup-mask,.mip-video-popup-remove",function(){t.closePopup()})},_randerContent:function(){var t=this;if(t.$popupMask=e('<div class="mip-video-popup-mask"></div>'),t.$popupModal=e('<div class="mip-video-popup-modal"></div>'),t.$popupContent=e('<div class="mip-video-popup-content"></div>'),t.$popupHead=e('<div class="mip-video-popup-head"></div>'),t.options.title){var n=e('<div class="mip-video-popup-title"></div>');n.append(t.options.title),t.$popupHead.append(n)}var i=e('<div class="mip-video-popup-remove">X</div>');t.$popupHead.append(i),t.$popupContent.append(t.options.content),t.$popupModal.append(t.$popupHead).append(t.$popupContent).addClass(t.options.customClassName),t.$popupFrame.append(t.$popupModal).append(t.$popupMask)},popup:function(){var t=this,n=e(window).height();t._randerContent(),t._bindEvent(),t.$popupMask.show().animate({opacity:1},"fast","linear"),t.$popupModal.show();var i=t.$popupModal.height();(t.options.fullView||i>n)&&t.$popupModal.height("100%"),t.$popupModal.animate({"-webkit-transform":"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)"},t.options.duration,"linear",function(){e(this).css({"-webkit-transform":"none",transform:"none"}),t.options.onOpen()})},closePopup:function(){var t=this;t.$popupModal.animate({"-webkit-transform":"translate3d(0, 100%, 0)",transform:"translate3d(0, 100%, 0)"},t.options.duration,"linear",function(){e(this).css({"-webkit-transform":"none",transform:"none"}).hide(),t.options.onClose(),t._destroy()}),t.$popupMask.animate({opacity:0},"fast","linear",function(){e(this).hide()})},_destroy:function(){var t=this;t.$popupFrame.off("click",".mip-video-popup-mask,.mip-video-popup-remove"),t.$popupFrame.empty()}},n}),define("builtins/mip_builtins",["element","builtins/mip-pix","builtins/mip-gif","builtins/mip-img","builtins/mip-carousel","builtins/mip-iframe","builtins/mip-video"],function(t){"use strict";var e=function(){t("mip-pix",require("builtins/mip-pix")),t("mip-gif",require("builtins/mip-gif")),t("mip-img",require("builtins/mip-img")),t("mip-carousel",require("builtins/mip-carousel")),t("mip-iframe",require("builtins/mip-iframe")),t("mip-video",require("builtins/mip-video"))};return{register:e}}),require(["components/platform","element","builtins/mip_builtins","viewer","viewport","components/css","resources"],function(t,e,n,i,r,o,a){"use strict";!window.MIP&&(window.MIP={}),MIP.css={},MIP.registerMipElement=e,window.platform=t,MIP.registerMipElement=e,MIP.viewer=i,MIP.viewport=r,MIP.prerenderElement=a.prerenderElement,i.init(),n.register(),i.show()});