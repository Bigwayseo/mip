define("extensions/mip-recommend/0.2/util",["require"],function(){function e(e,o){return o=o||{},e.replace(/#\{([^\}]+)\}/g,function(){return void 0!==o[arguments[1]]?o[arguments[1]]:""})}function o(e){var o=1e3*e;if(new Date-o<6e4)return"刚刚";var t=Math.floor((new Date-o)/6e4);if(60>t)return t+"分钟前";var n=Math.floor(t/60);if(24>n)return n+"小时前";var r=new Date(o),i=r.getMonth()+1;i=10>i?"0"+i:i;var d=r.getDate()<10?"0"+r.getDate():r.getDate();return i+"-"+d}function t(e,o){var t=new RegExp(e+"=([^&?#]+)"),n=o,r=n.match(t);return r?r[1]:""}function n(e){return e?1e5>e?e:1e8>e?Math.round(e/1e4,10)+"万":(e/1e8).toFixed(1).replace(/\.0+$/,"")+"亿":0}return{timeSince:o,getParam:t,format:e,formatBigNumber:n}}),define("extensions/mip-recommend/0.2/recommend",["require","zepto","extensions/mip-recommend/0.2/util"],function(e){function o(e){var o=e.recommend?e.recommend:e;if(o&&o.length){var t=i?"":"MIP_LOG_BTN";r.each(o,function(e,o){r(".recommends").append("<div "+(o.head?'data-head="'+o.head+'"':"")+' class="'+t+" recommends-box"+(e?"":" recommends-box-first")+'" data-click=\'{"action":"recommend", "order":"'+e+'", "href":"'+o.url+'", "type": "sf"}\'><a class="recommends-href" href='+o.url+'><div class="recommends-title">'+o.title+'</div><div class="recommends-info"><span>'+d.timeSince(o.time)+'</span><span class="recommends-provider">'+o.provider+"</span></div></a></div>")})}else r(".recommends").append('<p class="recommends-empty">暂无相关资讯</p>');var n=e.recommend_more;if(n){var m=""+n.url+(n.url.indexOf("?")>-1?"&":"?")+"from=recmd";r(".recommends").addClass("recommends-more").append('<p class="recommends-more-line"><a href="'+m+'" class="recommends-more-link">'+(n.text||"查看更多 <em>资讯</em> ")+"</a></p>")}}function t(e){r(".hotpoint").length||r(".recommends").after(m);var o=e.hot_card;if(o&&o.length){var t="",n=o.length,a='<div class="c-span6 hotpoint-item"><a target="#{target}" class="MIP_LOG_BTN c-bloaka c-color c-urljump c-line-clamp1#{hotClass}" href="#{href}" data-click=\'{"action":"hotpoint", "order":"#{index}", "href":"#{href}"}\' data-urljump=\'#{urljump}\'>#{text}</a></div>';r.each(o,function(e,o){o.type?'<i class="c-text-box c-text-box-red">新</i>':"",e%2||(e&&(t+="</div>"),t+='<div class="c-row hotpoint-row">'),t+=d.format(a,{index:e,target:i?"_top":"_self",hotClass:"",href:o.url,text:o.query,urljump:JSON.stringify({t:"mdd",lid:d.getParam("lid",location.href)})}),e===n-1&&(t+="</div>")}),r(".hotpoint").append('<div class="hotpoint-box">'+t+"</div>")}else r(".hotpoint").remove()}function n(){r(".recommends").delegate(".recommends-box","click",function(e){e.preventDefault();var o=r(this).find(".recommends-href").attr("href"),t=r(this).data("head");t||(t=r(this).find(".recommends-provider").text());var n={event:"loadiframe",data:{url:o,enc:"no",title:t,click:r(this).data("click")}};i?window.parent.postMessage(n,"*"):location.href=o})}var r=e("zepto"),i=window.parent!==window,d=e("extensions/mip-recommend/0.2/util"),m='<div class="hotpoint"><div class="hotpoint-header">新闻热点</div></div>';return{init:n,render:o,renderHot:t}}),define("extensions/mip-recommend/0.2/mip-recommend",["require","zepto","customElement","extensions/mip-recommend/0.2/recommend"],function(e){function o(e){var o=new Promise(function(o,t){n.ajax({url:e,dataType:"jsonp",jsonp:"cb",data:{url_key:location.href},success:function(e){o(e)},error:function(e){t(e)}})});return o}function t(){var e=this.element;if(!e.isRender){e.isRender=!0;var t=e.getAttribute("src"),n=e.getAttribute("server")||"olympic";t||(t=m[n]),i.init(),o(t).then(function(e){i.render(e.data),i.renderHot(e.data)},function(){})}}var n=e("zepto"),r=e("customElement").create(),i=e("extensions/mip-recommend/0.2/recommend");r.prototype.init=function(){this.build=t};var d=/^https/.test(location.protocol),m={olympic:(d?"https://sp0.baidu.com/5LMDcjW6BwF3otqbppnN2DJv/olympic.pae.baidu.com":"http://olympic.pae.baidu.com")+"/pae/olympic/api/reclist",headline:"//headline.baidu.com/doc/recommended"};return r}),require(["extensions/mip-recommend/0.2/mip-recommend"],function(e){MIP.css.mipRecommend=".recommends{width:100%;min-height:230px;padding:16px 0 14px;margin-top:13px;background-color:#fff;overflow:hidden;text-align:left}.recommends>div{margin:0 16px}.recommends-box a{display:block;overflow:hidden;text-decoration:none;color:#333}.recommends-header{font-size:13px;color:#999}div.recommends-keywords{display:block;margin-top:12px;padding:10px 0;overflow:hidden}.recommends-keywords-href{padding:6px 13px;overflow:hidden;border-radius:20px;margin-right:14px;border:1px solid #e6e6e6}.recommends-keywords span{font-size:14px;color:#666}.recommends-box{overflow:hidden;padding:16px 0 15px;border-bottom:#eee 1px solid}.recommends-box-first{padding-top:15px}.recommends-box:last-child{border-bottom:0;padding-bottom:5px}.recommends-title{font-size:16px;margin-bottom:10px;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.recommends-info{font-size:13px;color:#999}.recommends-empty{text-align:center;padding:84px 0;color:#666}.recommends-more{padding-bottom:0}.recommends-more-line{margin-top:10px;text-align:center;border-top:solid #e6e6e6 1px;line-height:45px;font-size:13px;color:#999}.recommends-more-line em{color:#2596DE;font-style:normal}.recommends-provider{padding-left:18px}.recommends-entry{text-align:center;font-size:16px;padding:15px 0 0}.recommends-entry-tag{color:#09f}.recommends-entry-link{color:#999;display:block}.hotpoint{width:100%;padding:16px 0 9px;margin:13px 0;background-color:#fff;overflow:hidden;text-align:left;font-size:12px}.hotpoint-header{margin-bottom:13px;font-size:13px;color:#999}.hotpoint>div{margin-left:17px;margin-right:17px}.hotpoint .hotpoint-item{margin-bottom:8px;background-color:#f5f5f5;overflow:hidden}.hotpoint-row{margin:0}.hotpoint-row .hotpoint-item:last-child{margin-left:5px}.hotpoint-row .hotpoint-item:first-child{margin-right:5px}.hotpoint-box{font-size:14px;text-align:center;line-height:39px;color:#333}.hotpoint-href-word-hot{position:relative;display:inline-block;vertical-align:top;max-width:100%;padding-right:20px}.hotpoint-href-word-hot i{position:absolute;top:5px;right:0}",MIP.registerMipElement("mip-recommend",e,MIP.css.mipRecommend)});