define("mip-vd-popup/popup",[],function(){var e=function(e){var t=this;t.options=$.extend({title:"",content:"",fullView:!1,duration:400,customClassName:"",onOpen:function(){},onClose:function(){}},e),t._init()};return e.prototype={constructor:e,version:"0.0.1",_init:function(){var e=this;e._preparePopupWrapper(),e.popup()},_preparePopupWrapper:function(){var e=this,t=$(".mip-vd-popup-wrapper");if(t.length)e.$popupFrame=t,e.$popupFrame.empty();else e.$popupFrame=$('<div class="mip-vd-popup-wrapper"></div>'),$(document.body).append(e.$popupFrame)},_stopScroll:function(){var e=this;e.$popupFrame.on("touchmove",function(e){e.preventDefault()})},_bindEvent:function(){var e=this;e.$popupFrame.on("click",".mip-vd-popup-mask,.mip-vd-popup-remove",function(){e.closePopup()})},_randerContent:function(){var e=this;if(e.$popupMask=$('<div class="mip-vd-popup-mask"></div>'),e.$popupModal=$('<div class="mip-vd-popup-modal"></div>'),e.$popupContent=$('<div class="mip-vd-popup-content"></div>'),e.$popupHead=$('<div class="mip-vd-popup-head"></div>'),e.options.title){var t=$('<div class="mip-vd-popup-title"></div>');t.append(e.options.title),e.$popupHead.append(t)}var i=$('<div class="mip-vd-popup-remove"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqBAMAAAA37dRoAAAAElBMVEUAAABmZmZmZmZmZmZmZmZmZmYlNPltAAAABXRSTlMAnAFiY7dPC10AAACQSURBVCjPfdPdCYAgFIZhsQkKuq8m6KYRGiDK/Vep5MALL2IQfepD/nHSMCU/656Oa1Fnnu80l8m0XN8rnH+XhYMJhwJD+UIJpiQEEeDMOA2GwaI0oWDRwEGFt0qNx0qNS1BhUff6D93ZvLLuLrzj3un4JE2NfUPOYN+8EoIAEcVAwaahghq3q+VsVNbTrsIXTkQ1/j8utO4AAAAASUVORK5CYII="></div>');e.$popupHead.append(i),e.$popupContent.append(e.options.content),e.$popupModal.append(e.$popupHead).append(e.$popupContent).addClass(e.options.customClassName),e.$popupFrame.append(e.$popupModal).append(e.$popupMask)},popup:function(){var e=this,t=$(window).height();e._randerContent(),e._bindEvent(),e.$popupMask.show().animate({opacity:1},"fast","ease"),e.$popupModal.show();var i=e.$popupModal.height();if(e.options.fullView||i>t)e.$popupModal.height("100%");e.$popupModal.animate({"-webkit-transform":"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)"},e.options.duration,"ease",function(){$(this).css({"-webkit-transform":"none",transform:"none"}),e.options.onOpen()})},closePopup:function(){var e=this;e.$popupModal.animate({"-webkit-transform":"translate3d(0, 100%, 0)",transform:"translate3d(0, 100%, 0)"},e.options.duration,"ease",function(){$(this).css({"-webkit-transform":"none",transform:"none"}).hide(),e.options.onClose(),e._destroy()}),e.$popupMask.animate({opacity:0},"fast","ease",function(){$(this).hide()})},_destroy:function(){var e=this;e.$popupFrame.off("click",".mip-vd-popup-mask,.mip-vd-popup-remove"),e.$popupFrame.empty()}},e});