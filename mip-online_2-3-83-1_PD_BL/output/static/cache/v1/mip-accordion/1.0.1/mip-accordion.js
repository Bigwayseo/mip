define("mip-accordion/mip-accordion",["require","customElement","zepto"],function(e){function o(e){var o=this,t="MIP-"+e+"-"+d,n=i(t);for(var a in n){var c=n[a];if(c){var l=r("#"+a,o);l.attr("aria-expanded","open"),l.parents("section").attr("expanded","open")}}}function t(e){var o=r(e);o.on("click",".mip-accordion-header",function(){var o=r(this).attr("aria-controls"),t=r("#"+o),i=t.attr("aria-expanded");if("open"===i)t.attr("aria-expanded","close"),r(this).parents("section").removeAttr("expanded"),n(e,o,!1);else t.attr("aria-expanded","open"),r(this).parents("section").attr("expanded","open"),n(e,o,!0)})}function n(e,o,t){var n="MIP-"+e.getAttribute("sessions-key")+"-"+d,a=i(n);a[o]=t,sessionStorage[n]=JSON.stringify(a)}function i(e){var o=sessionStorage[e];return o?JSON.parse(o):{}}var a=e("customElement").create(),r=e("zepto"),d=location.href;return a.prototype.build=function(){var e=this,a=this.element;if(this.type_=r(a).attr("type")||"automatic",this.sections_=r(a).find("section"),this.id_=r(a).attr("sessions-key"),this.element.setAttribute("role","tablist"),this.currentState_=i.call(this),this.sections_.map(function(o,t){const i=r(t.children.item(0)),d=i.next();i.addClass("mip-accordion-header"),d.addClass("mip-accordion-content");var c=d.attr("id");if(!c)c="MIP_"+e.id_+"_content_"+o,d.attr({id:c});if(e.currentState_[c])t.attr("expanded","");else if(0==e.currentState_[c])t.removeAttribute("expanded");if("manual"===e.type_&&t.hasAttribute("expanded"))d.attr("aria-expanded","open"),n(a,r(a).attr("aria-controls"),!0);else if("automatic"===e.type_)d.attr("aria-expanded",t.hasAttribute("expanded").toString());i.attr("aria-controls",c)}),"automatic"===e.type_)o.call(a,this.id_);t(a)},a}),define("mip-accordion",["mip-accordion/mip-accordion"],function(e){return e}),function(){function e(e,o){e.registerMipElement("mip-accordion",o,'.mip-accordion-content{display:none !important}.mip-accordion-content[aria-expanded="open"]{display:block !important}mip-accordion section[expanded=open] .show-more{display:none !important}mip-accordion section .show-more{display:block}mip-accordion section .show-less{display:none}mip-accordion section[expanded=open] .show-less{display:block}')}if(window.MIP)require(["mip-accordion"],function(o){e(window.MIP,o)});else require(["mip","mip-accordion"],e)}();