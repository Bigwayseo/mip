define("mip-hk-call/mip-hk-call",["require","zepto","customElement"],function(e){function t(){var e=this.element,t=n(e).attr("type"),i=n(e).attr("urlKey"),o=n(e).attr("apk"),l=n(e).attr("page");if("undefined"!=typeof o&&"ios"!==c.os())if("1"===o){a="http://dl.hao123.com/waphao123/tn_apk/baiduhaokan1018504p.apk";var l="index_hk",u="1018504p"}else if("2"===o){a="http://dl.hao123.com/waphao123/tn_apk/baiduhaokan1018504q.apk";var l=l,u="1018504q"}else if("3"===o){a="http://dl.hao123.com/waphao123/tn_apk/baiduhaokan1018504r.apk";var l=l,u="1018504r"}else if("4"===o){a="http://dl.hao123.com/waphao123/tn_apk/baiduhaokan1018504s.apk";var l="erji_index_level",u="1018504s"}else if("5"===o){a="http://dl.hao123.com/waphao123/tn_apk/baiduhaokan1018504p.apk";var l=l,u="1018504p"}else if(parseInt(o)>5){a="http://dl.hao123.com/waphao123/tn_apk/baiduhaokan"+o+".apk";var l=l,u=o}var m="http://wapsite.baidu.com/haokan/"+("article"==t?"doc":t)+"/detail?url_key="+encodeURIComponent(i),f="";if(""!==t&&""!==i)var f=t+"?url="+encodeURIComponent(i);if("ios"===c.os())var h=r;else var h=a;var g="baiduhaokan://"+f,v=d.match(/MicroMessenger/i);if(v)h=m;var b="";if(n(e).find(".J_app_call").attr("href",m),!s())n(e).find(".J_app_call").bind("click",function(e){if("undefined"!=typeof o&&"ios"!==c.os())(new Image).src="/tj.gif?page="+l+"&pos="+u+"&t="+(new Date).getTime();var t=Date.now();if("android"===c.os()&&1===p){if(window.location.href=g,"android"===c.os()&&1!==p||"android"===c.os()&&/baidubrowser/.test(d))b=setTimeout(function(){if(Date.now()-t<1200)window.location.href=h;clearTimeout(b)},1e3)}else if("ios"===c.os())window.location.href=g,b=setTimeout(function(){if(Date.now()-t<1200)window.location.href=h;clearTimeout(b)},1e3);else window.location.href=h;return!1})}function i(e,t,i){var i=i||"_Hao"+Math.floor(1e4*Math.random()),n=document.createElement("script");n.src=e+"&cb="+i+"&t="+(new Date).getTime(),n.type="text/javascript",n.setAttribute("charset","utf-8"),document.getElementsByTagName("head")[0].appendChild(n),window[i]=function(e){if("function"==typeof t)t(e);var i=setTimeout(function(){document.getElementsByTagName("head")[0].removeChild(n),clearTimeout(i)},20)}}var n=e("zepto"),o=e("customElement").create(),a="http://dl.hao123.com/waphao123/tn_apk/baiduhaokan1015351w.apk",r="https://itunes.apple.com/cn/app/id1092031003?mt=8",c=function(){var e=new RegExp("iPhone|iPad|iPod|iPh|iPd|iOS","i"),t=new RegExp("Android|Linux","i"),i=new RegExp("^.*OS\\s(\\d.*?)\\s.*$","i"),n=new RegExp("^.*Android\\s(.*?);.*$","i"),o=window.navigator.userAgent,a={os:function(){if(t.test(o))return"android";else if(e.test(o))return"ios";else return""},osv:function(){if(t.test(o))return o.replace(n,"$1");else if(e.test(o))return o.replace(i,"$1").replace(/_/,".");else return""}};return a}(),d=navigator.userAgent,s=function(){if(d.match(/iPhone/i)||d.match(/iPod/i))return Boolean(d.match(/OS (9|10)_\d[_\d]* like Mac OS X/i));else return!1},p=0;if("android"===c.os())i("http://127.0.0.1:41333/ping/?callback=ping",function(e){if(0==e.error)if(p=1,!/baidubrowser/.test(navigator.userAgent))n(".J_dl_content").html("打开")},"ping");return o.prototype.build=t,o}),define("mip-hk-call",["mip-hk-call/mip-hk-call"],function(e){return e}),function(){function e(e,t){e.registerMipElement("mip-hk-call",t)}if(window.MIP)require(["mip-hk-call"],function(t){e(window.MIP,t)});else require(["mip","mip-hk-call"],e)}();