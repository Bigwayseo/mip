define("mip-accordion/mip-accordion",["require","customElement","zepto"],function(e){function t(e){var t=this,n="MIP-"+e+"-"+c,i=a(n);for(var o in i){var s=i[o];if(s){var d=r("#"+o,t);d.attr("aria-expanded","open"),d.parents("section").attr("expanded","open")}}}function n(e){var t=r(e);t.on("click",".mip-accordion-header",function(){var t=r(this).attr("aria-controls"),n=r("#"+t),a=n.attr("aria-expanded");if("open"===a)n.attr("aria-expanded","close"),r(this).parents("section").removeAttr("expanded"),i(e,t,!1);else n.attr("aria-expanded","open"),r(this).parents("section").attr("expanded","open"),i(e,t,!0)})}function i(e,t,n){var i="MIP-"+e.getAttribute("sessions-key")+"-"+c,o=a(i);o[t]=n,sessionStorage[i]=JSON.stringify(o)}function a(e){var t=sessionStorage[e];return t?JSON.parse(t):{}}var o=e("customElement").create(),r=e("zepto"),c=location.href;return o.prototype.build=function(){var e=this,o=this.element;if(this.type_=r(o).attr("type")||"automatic",this.sections_=r(o).find("section"),this.id_=r(o).attr("sessions-key"),this.element.setAttribute("role","tablist"),this.currentState_=a.call(this),this.sections_.map(function(t,n){const a=r(n.children.item(0)),c=a.next();a.addClass("mip-accordion-header"),c.addClass("mip-accordion-content");var s=c.attr("id");if(!s)s="MIP_"+e.id_+"_content_"+t,c.attr({id:s});if(e.currentState_[s])n.attr("expanded","");else if(0==e.currentState_[s])n.removeAttribute("expanded");if("manual"===e.type_&&n.hasAttribute("expanded"))c.attr("aria-expanded","open"),i(o,r(o).attr("aria-controls"),!0);else if("automatic"===e.type_)c.attr("aria-expanded",n.hasAttribute("expanded").toString());a.attr("aria-controls",s)}),"automatic"===e.type_)t.call(o,this.id_);n(o)},o}),define("mip-accordion",["mip-accordion/mip-accordion"],function(e){return e}),function(){function e(e,t){e.registerMipElement("mip-accordion",t,'.mip-accordion-content{display:none !important}.mip-accordion-content[aria-expanded="open"]{display:block !important}mip-accordion section[expanded=open] .show-more{display:none !important}mip-accordion section .show-more{display:block}mip-accordion section .show-less{display:none}mip-accordion section[expanded=open] .show-less{display:block}')}if(window.MIP)require(["mip-accordion"],function(t){e(window.MIP,t)});else require(["mip","mip-accordion"],e)}();