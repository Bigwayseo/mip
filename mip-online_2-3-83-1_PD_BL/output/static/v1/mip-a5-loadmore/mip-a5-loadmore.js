define("mip-a5-loadmore/mip-a5-loadmore",["require","zepto","customElement"],function(e){function o(e){l=!0,d.html(r.status.loading);var o=n(e).find(r.moreList);n.ajax({url:r.url,method:"GET",data:r.pageParam+"="+c,success:function(e){var t=n(e).find(r.moreList).children();if(t.length>0)o.append(t),d.html(r.status.init),c++,l=!1;else d.html(r.status.ending),l=!1},error:function(e){d.html(r.status.error),l=!1}})}function t(e){return"SCRIPT"===e.tagName&&e.getAttribute("type")&&"APPLICATION/JSON"===e.getAttribute("type").toUpperCase()}var n=e("zepto"),i=e("customElement").create(),a={url:"#",page:2,btn:".loadBtn",moreList:".moreList",status:{init:"<i></i>加载更多",loading:"<i></i>加载中",ending:"<i></i>没有了",error:"<i></i>网络错误"},scrollPage:-1,pageParam:"page"},r={},d="",c=2,l=!1;return i.prototype.build=function(){var e=this.element,i=e.querySelector("script")||null;if(null!==i)if(t(i)){var s=i.textContent.toString();try{r=JSON.parse(s)}catch(e){return console.error("error options",s),!1}}else return console.error("error options"),!1;r=n.extend(a,r),c=r.page,d=n(r.btn),d.html(r.status.init),d.click(function(){if(l)return!1;else return void o(e)});var u=parseInt(r.scrollPage,0);if(u>=0){var f=n(window).height();n(window).on("scroll",function(){var t=n(this).scrollTop(),i=n(document).height()-f-t-50;if(i<0&&l===!1&&(0===u||c<r.page+u))o(e)})}},i}),define("mip-a5-loadmore",["mip-a5-loadmore/mip-a5-loadmore"],function(e){return e}),function(){function e(e,o){e.registerMipElement("mip-a5-loadmore",o)}if(window.MIP)require(["mip-a5-loadmore"],function(o){e(window.MIP,o)});else require(["mip","mip-a5-loadmore"],e)}();